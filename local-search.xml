<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>基础数学知识-Gamma函数和Beta函数</title>
    <link href="/2022/03/31/%E5%9F%BA%E7%A1%80%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86-Gamma%E5%87%BD%E6%95%B0%E5%92%8CBeta%E5%87%BD%E6%95%B0/"/>
    <url>/2022/03/31/%E5%9F%BA%E7%A1%80%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86-Gamma%E5%87%BD%E6%95%B0%E5%92%8CBeta%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<p>由于在各种数学实践中出现了基础知识遗漏的问题，这里将需要着重记忆的数学知识再次回顾。</p><span id="more"></span><h2 id="Gamma函数"><a href="#Gamma函数" class="headerlink" title="Gamma函数"></a>Gamma函数</h2><p>$\Gamma(x)$，Gamma函数，通常被解释为阶乘的延拓。该函数在许多数学领域中均有重要的作用。</p><p>在实数域上，定义为</p><script type="math/tex; mode=display">\newcommand{\e}{\mathrm{e}}\newcommand{\d}{\mathrm{d}}\Gamma (x) = \int_0^{+\infty}t^{x-1}\e^{-t}\d t(x > 0)</script><p>复数域上，可以延拓为</p><script type="math/tex; mode=display">\newcommand{\e}{\mathrm{e}}\newcommand{\d}{\mathrm{d}}\Gamma (z) = \int_0^{+\infty}t^{z-1}\e^{-t}\d t (\mathrm{Re}(z) > 0)</script><p>通过变换，可以得到另一种表达方式</p><script type="math/tex; mode=display">\newcommand{\e}{\mathrm{e}}\newcommand{\d}{\mathrm{d}}\Gamma (x) = 2\int_0^{+\infty}t^{2x-1}\e^{-t^2}\d t</script><p>通常使用的特殊值为</p><script type="math/tex; mode=display">\Gamma(1) = 1, \Gamma\left(\frac{1}{2}\right) = \sqrt{\pi}</script><p>通常我们需要记忆Gamma函数的如下性质：</p><script type="math/tex; mode=display">\newcommand{\e}{\mathrm{e}}\newcommand{\d}{\mathrm{d}}\Gamma(x+1) = x\Gamma(x)</script><p>这个是Gamma函数作为阶乘延拓的主要性质。</p><script type="math/tex; mode=display">\newcommand{\e}{\mathrm{e}}\newcommand{\d}{\mathrm{d}}B(m,n) = \frac{\Gamma(m)\Gamma(n)}{\Gamma(m+n)}</script><p>我们还常见一个公式，称为<strong>余元公式</strong></p><script type="math/tex; mode=display">\newcommand{\e}{\mathrm{e}}\newcommand{\d}{\mathrm{d}}\Gamma(1-x)\Gamma(x) = \frac{\pi}{\sin \pi x}</script><p>在概率论、数理统计和随机过程这些课程中，我们还接触了<strong>Gamma分布</strong>，它有如下的概率密度函数</p><script type="math/tex; mode=display">\newcommand{\e}{\mathrm{e}}\newcommand{\d}{\mathrm{d}}f(X) = \frac{X^{\alpha - 1}\lambda^{\alpha}\e^{-\lambda X}}{\Gamma(\alpha)}</script><h2 id="Beta函数"><a href="#Beta函数" class="headerlink" title="Beta函数"></a>Beta函数</h2><p>Beta函数称为欧拉第一积分，有如下定义</p><script type="math/tex; mode=display">\newcommand{\e}{\mathrm{e}}\newcommand{\d}{\mathrm{d}}B(m,n)=\int^1_0x^{m-1}(1-x)^{n-1}\d x</script><p>积分成立的条件是$\mathrm{Re}(m)&gt;0,\mathrm{Re}(n)&gt;0$。</p><p>Beta函数性质</p><script type="math/tex; mode=display">\newcommand{\e}{\mathrm{e}}\newcommand{\d}{\mathrm{d}}B(m,n) = B(n,m)</script><script type="math/tex; mode=display">\newcommand{\e}{\mathrm{e}}\newcommand{\d}{\mathrm{d}}B(s,1-s) = \int_0^{+\infty}\frac{x^{s-1}}{1+x}\d x = \Gamma(s)\Gamma(1-s) = \frac{\pi}{\sin s\pi}</script><script type="math/tex; mode=display">\newcommand{\e}{\mathrm{e}}\newcommand{\d}{\mathrm{d}}\int^{\frac{\pi}{2}}_0\sin^{p}\theta\cos ^{q}\theta \d \theta = \frac{1}{2}B(\frac{p+1}{2}, \frac{q+1}{2})</script><p>最常见的性质还是Beta函数和Gamma函数的转化，然后可以根据Gamma的阶乘性质化简成阶乘或双阶乘的形式。</p><script type="math/tex; mode=display">\newcommand{\e}{\mathrm{e}}\newcommand{\d}{\mathrm{d}}B(m,n) = \frac{\Gamma(m)\Gamma(n)}{\Gamma(m+n)}</script><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>在工科学习过程中，主要掌握的性质集中于计算方面。限于时间问题，上述性质均未在本文中得到证明。以上。</p>]]></content>
    
    
    <categories>
      
      <category>学习</category>
      
      <category>数学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
      <tag>数学</tag>
      
      <tag>课内复习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>电磁学C复习-磁学部分二</title>
    <link href="/2022/02/02/%E7%94%B5%E7%A3%81%E5%AD%A6C%E5%A4%8D%E4%B9%A0-%E7%A3%81%E5%AD%A6%E9%83%A8%E5%88%86%E4%BA%8C/"/>
    <url>/2022/02/02/%E7%94%B5%E7%A3%81%E5%AD%A6C%E5%A4%8D%E4%B9%A0-%E7%A3%81%E5%AD%A6%E9%83%A8%E5%88%86%E4%BA%8C/</url>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文章是作者在学习电磁学时进行期末复习时做出的笔记。这里是磁学第二部分。</p><span id="more"></span><h2 id="电磁感应与磁场能量"><a href="#电磁感应与磁场能量" class="headerlink" title="电磁感应与磁场能量"></a>电磁感应与磁场能量</h2><h3 id="磁场的能量"><a href="#磁场的能量" class="headerlink" title="磁场的能量"></a>磁场的能量</h3><h4 id="线圈的自感磁能表达式"><a href="#线圈的自感磁能表达式" class="headerlink" title="线圈的自感磁能表达式"></a>线圈的自感磁能表达式</h4><script type="math/tex; mode=display">\newcommand{\oiint}{\subset\kern{-3pt}\supset\kern{-16.5pt}\iint}W_m = \int_0^ILI\text{d}I = \frac{1}{2}LI^2 = \frac{1}{2}I\Phi_m</script><p>其中$\Phi_m=LI$是通过线圈的全磁通。</p><h4 id="LC振荡电路"><a href="#LC振荡电路" class="headerlink" title="LC振荡电路"></a>LC振荡电路</h4><p>自己看PPT<br>Page 381</p><h4 id="载流线圈得到互能"><a href="#载流线圈得到互能" class="headerlink" title="载流线圈得到互能"></a>载流线圈得到互能</h4><p>推导的时候，可以先将其中一个线圈充满电，再考虑另一个线圈的充电过程。</p><p>产生了感应电动势，需要进行反抗，转化的功变成了磁能。</p><p>互能：</p><script type="math/tex; mode=display">W_{\text{互}} =  MI_1I_2</script><h4 id="两个载流线圈系统的磁能"><a href="#两个载流线圈系统的磁能" class="headerlink" title="两个载流线圈系统的磁能"></a>两个载流线圈系统的磁能</h4><script type="math/tex; mode=display">W=\frac{1}{2}L_1I_1^2 + \frac{1}{2}L_2I_2^2 \pm MI_1I_2</script><p>互感磁能顺接为正，反接为负。</p><p>也可以表示为</p><script type="math/tex; mode=display">W_m = \frac{1}{2}\sum^2_{i,j=1}M_{ij}I_iI_j,M_{ii} = L_i</script><p>顺接时$M&gt;0$，反接时$M&lt;0$</p><h4 id="多个载流线圈系统的磁能"><a href="#多个载流线圈系统的磁能" class="headerlink" title="多个载流线圈系统的磁能"></a>多个载流线圈系统的磁能</h4><script type="math/tex; mode=display">W_m = \frac{1}{2}\sum^N_{i,j=1}M_{ij}I_iI_j,M_{ii} = L_i</script><p>不过瘾。</p><p>令第j个线圈的电流的磁场通过第i个线圈的磁通为</p><script type="math/tex; mode=display">\Phi_{ji} = M_{ji}I_j = M_{ij}I_j</script><p>且令</p><script type="math/tex; mode=display">\Phi_i = \sum^N_{j=1}\Phi_{ji} = \sum^N_{j=1}M_{ij}I_j</script><p>所以得到</p><script type="math/tex; mode=display">W_m = \frac{1}{2}\sum^N_{i=1}I_i\Phi_i</script><h4 id="载流线圈在外磁场中的磁能"><a href="#载流线圈在外磁场中的磁能" class="headerlink" title="载流线圈在外磁场中的磁能"></a>载流线圈在外磁场中的磁能</h4><p>计$W_{ij}$表示i,j载流线圈之间的互能。</p><script type="math/tex; mode=display">W_{12} = M_{12}I_1I_2 = \Phi_{12}I_2 = I_2\iint_{S_2}\boldsymbol{B}_{1}(\boldsymbol{r}_2)\cdot\text{d}\boldsymbol{S}</script><p>将其看成线圈2在外磁场$B_1$中具有的磁能，则</p><p>对<strong>均匀外磁场</strong>中的载流线圈或非均匀外磁场中的<strong>小</strong>载流线圈，有磁矩$m$在外磁场$B$中的磁能</p><script type="math/tex; mode=display">W_{12} = \boldsymbol{m} \cdot\boldsymbol{B}</script><p>对于N个线圈系统</p><script type="math/tex; mode=display">W_m = \sum^{N}_{k=1}I_k\iint_{S_k}\boldsymbol{B}(\boldsymbol{r})\cdot\text{d}\boldsymbol{S}</script><p>对于均匀的外磁场</p><script type="math/tex; mode=display">W_{12} = \boldsymbol{B}\cdot(\sum^N_{k=1}I_kS_k) = \boldsymbol{m}_{t}\cdot\boldsymbol{B}</script><p>其中$m_t$为总磁矩</p><h4 id="磁场的能量和磁能密度"><a href="#磁场的能量和磁能密度" class="headerlink" title="磁场的能量和磁能密度"></a>磁场的能量和磁能密度</h4><p>磁能同样存储在磁场中</p><p>定义磁能密度为$w_m$，可以计算得到</p><script type="math/tex; mode=display">{w}_m = \frac{1}{2}\boldsymbol{B}\cdot\boldsymbol{H}</script><p>当空间磁场不均匀时，总磁能时磁能密度的体积分</p><script type="math/tex; mode=display">W_m = \iiint_V w_m\text{d}V = \frac{1}{2}\iiint_V\boldsymbol{B}\cdot\boldsymbol{H}\text{d}V</script><p>上式中的B是总磁场，即计入了介质的磁化能，要求介质线性无损耗！</p><h4 id="使用磁能密度解决自感问题"><a href="#使用磁能密度解决自感问题" class="headerlink" title="使用磁能密度解决自感问题"></a>使用磁能密度解决自感问题</h4><script type="math/tex; mode=display">L = \frac{2W_m}{I^2}</script><p>其中$W_m$利用磁能密度积分求解。如果$I^2$不能消去，你就求错了。</p><h4 id="磁介质存在时的磁能"><a href="#磁介质存在时的磁能" class="headerlink" title="磁介质存在时的磁能"></a>磁介质存在时的磁能</h4><p>PPT404</p><p>直接上结论：</p><script type="math/tex; mode=display">w_m = \frac{1}{2}\mu_0H^2 + \frac{1}{2}\mu_0\boldsymbol{H}\cdot\boldsymbol{M}</script><p>这个公式实际上可以从下式得到。</p><script type="math/tex; mode=display">w_m = \frac{1}{2}\boldsymbol{B}\cdot\boldsymbol{H}= \frac{1}{2}\mu_0(\boldsymbol{H}+\boldsymbol{M})\cdot\boldsymbol{H}</script><p>这也解释了为什么磁滞回线使用$B$-$H$曲线，面积可以直接计算成能量。</p><h4 id="利用磁能求力和力矩"><a href="#利用磁能求力和力矩" class="headerlink" title="利用磁能求力和力矩"></a>利用磁能求力和力矩</h4><ol><li>电流保持不变</li></ol><p>磁力经虚位移$\delta \boldsymbol{r}$作功$\delta A$，是系统磁能减少；要维持电流不变，外界电源需要反抗感应电动势作功$\delta A^{‘}$，使磁能增加。<br>由公式</p><script type="math/tex; mode=display">(\delta W_m)_I = \delta A^{'} - \delta A</script><p>电源作功的特点是</p><script type="math/tex; mode=display">\delta A^{'} = 2(\delta W_m)_I</script><p>所以</p><script type="math/tex; mode=display">(\delta W_m)_I = \delta A = \boldsymbol{F}\cdot\delta\boldsymbol{r}</script><script type="math/tex; mode=display">F = \left(\frac{\partial W_m}{\partial r}\right)_I = (\nabla W_m)_I</script><ol><li>线圈各匝磁通不变</li></ol><p>磁力经虚位移$\delta \boldsymbol{r}$作功$\delta {A}$，线圈磁通保持不变，不会出现感应电动势，电源不做功。</p><script type="math/tex; mode=display">(\delta W_m)_\Phi = \delta A^{'} - \delta A = -\delta A</script><p>因此</p><script type="math/tex; mode=display">F = -\left(\frac{\partial W_m}{\partial r}\right)_{\Phi} = -(\nabla W_m)_\Phi</script><p>类似地，使用角位移可以得到磁力矩的公式</p><p>以上的偏导均可以替换成nabla算子。为什么？</p><p>因为如果先得到了力的方向，使用偏导是没有问题的。</p><p>如果没有得到力的方向，直接使用nabla算子也是可以得到力和方向的。</p><script type="math/tex; mode=display">L_\theta = \left(\frac{\partial W_m}{\partial \theta}\right)_I</script><script type="math/tex; mode=display">L_\theta = -\left(\frac{\partial W_m}{\partial \theta}\right)_{\Phi}</script><p>这里就不能使用nabla算子了。因为坐标系不同，不能简化计算。</p><h4 id="外磁场作用下载流线圈的力与力矩"><a href="#外磁场作用下载流线圈的力与力矩" class="headerlink" title="外磁场作用下载流线圈的力与力矩"></a>外磁场作用下载流线圈的力与力矩</h4><p>可以从虚功原理推导出来</p><script type="math/tex; mode=display">\boldsymbol{F} = (\boldsymbol{m}\cdot\nabla)\boldsymbol{B}</script><script type="math/tex; mode=display">\boldsymbol{L}_\theta = \boldsymbol{m}\times\boldsymbol{B}</script><p>这也解释了nabla算子的由来。</p><p>PAGE 410</p><h2 id="交流电路与电力输送"><a href="#交流电路与电力输送" class="headerlink" title="交流电路与电力输送"></a>交流电路与电力输送</h2><h3 id="交流电的产生与基本特性"><a href="#交流电的产生与基本特性" class="headerlink" title="交流电的产生与基本特性"></a>交流电的产生与基本特性</h3><p>电阻</p><script type="math/tex; mode=display">Z_R = R</script><script type="math/tex; mode=display">\varphi = 0</script><p>电容</p><script type="math/tex; mode=display">Z_C = \frac{1}{\omega C}</script><script type="math/tex; mode=display">\varphi  =\varphi_u-\varphi_i = -\frac{\pi}{2}</script><p>电压相位落后于电流相位，因为电荷需要积累才成拥有电势差。</p><p>注意<strong>波的落后</strong>在时间轴上向右</p><p>电感</p><script type="math/tex; mode=display">Z_L = \omega L</script><script type="math/tex; mode=display">\varphi = \varphi_u-\varphi_i=\frac{\pi}{2}</script><p>电压的相位超前于电流，因为要先产生自感电动势，才能产生感生电流。</p><h4 id="电路矢量图"><a href="#电路矢量图" class="headerlink" title="电路矢量图"></a>电路矢量图</h4><p>$x$轴正方向是$I$还是$U$取决于考虑的电路是串联还是并联的。</p><p>单个元器件通常使用$I$。</p><h4 id="串联电路的共振现象"><a href="#串联电路的共振现象" class="headerlink" title="串联电路的共振现象"></a>串联电路的共振现象</h4><p>串联电路阻抗为</p><script type="math/tex; mode=display">Z = R + j\omega L + \frac{1}{j\omega C}</script><p>即</p><script type="math/tex; mode=display">|Z| = \sqrt{R^2 + (\omega L - \frac{1}{\omega C})^2}</script><p>在固有频率下</p><script type="math/tex; mode=display">f = \frac{1}{2\pi\sqrt{LC}}</script><p>电路纯电阻。</p><p>共振的时候，电感或者电容两端的电压最大，等于电源电动势的Q倍</p><script type="math/tex; mode=display">U_{CLm} = Z_L I_m = \omega_0 L \varepsilon_m / R = 1 / \sqrt{LC} L/R \varepsilon_m = \frac{1}{R}\sqrt{\frac{L}{C}}\varepsilon_m</script><p>即</p><script type="math/tex; mode=display">Q = \frac{1}{R}\sqrt{\frac{L}{C}}</script><p>串联电路共振的应用</p><ol><li>电压信号倍增</li><li>选择共振，改变L,C,改变频率，选台</li></ol><p>Q值的意义</p><ol><li>表征电感和电容上得电压放大倍数</li><li>电路中储存的能量和每个周期内消耗的能量之比的$2\pi$倍</li></ol><p>第二条是哪里来的？</p><script type="math/tex; mode=display">W_S = \frac{1}{2}LI^2 + \frac{1}{2}CU^2</script><p>PAGE 429<br>推导得到</p><script type="math/tex; mode=display">W_S = \frac{1}{2}LI_m^2 = LI_e^2</script><p>解释一下，$I_m$是最大值，$I_e$是有效值。PPT上的推导，实际上是表示了这样一件事情：<br>电感电容上的能量之和相同，分配比例为$\sin^2\omega t : \cos^2\omega t$</p><p>因为有效值，消耗的能量为</p><script type="math/tex; mode=display">W_R = RI^2_eT</script><p>所以在一个周期内</p><script type="math/tex; mode=display">\frac{W_S}{W_R} = \frac{LI_e^2}{RI_e^2T} = \frac{L}{RT} = \frac{L}{R2\pi\sqrt{LC}} = \frac{1}{2\pi}\frac{1}{R}\sqrt{\frac{L}{C}} = \frac{Q}{2\pi}</script><p>得到</p><script type="math/tex; mode=display">Q= 2\pi\frac{W_S}{W_R}</script><h3 id="交流电的复数解法"><a href="#交流电的复数解法" class="headerlink" title="交流电的复数解法"></a>交流电的复数解法</h3><p>将交流电用余弦的形式表示，则可以用复数</p><script type="math/tex; mode=display">a(t) = A\cos(\omega t+ \varphi) = \text{Re}\left[A\text{e}^{j(\omega t + \varphi)}\right] = \text{Re}\left[\tilde{A}\text{e}^{j\omega t}\right]</script><h4 id="交流电路的欧姆定律"><a href="#交流电路的欧姆定律" class="headerlink" title="交流电路的欧姆定律"></a>交流电路的欧姆定律</h4><script type="math/tex; mode=display">\tilde{U} = \tilde{I}\tilde{Z}</script><script type="math/tex; mode=display">\begin{aligned}Z_R &= R \\Z_C &= \frac{1}{j\omega C} \\Z_L &= j\omega L \\\end{aligned}</script><p>串联</p><script type="math/tex; mode=display">\tilde {Z} = \tilde{Z}_1+\tilde{Z}_2</script><p>并联</p><script type="math/tex; mode=display">\frac{1}{\tilde{Z}} = \frac{1}{\tilde{Z}_1}+ \frac{1}{\tilde{Z}_2}</script><h3 id="交流电的功率"><a href="#交流电的功率" class="headerlink" title="交流电的功率"></a>交流电的功率</h3><h4 id="视在功率"><a href="#视在功率" class="headerlink" title="视在功率"></a>视在功率</h4><p>定义为额定电压与额定电流的乘积。单位为伏安</p><script type="math/tex; mode=display">P = S = I_eU_e</script><h4 id="有功功率"><a href="#有功功率" class="headerlink" title="有功功率"></a>有功功率</h4><p>定义为一个周期内含电阻的网络实际消耗的能量，即平均功率。为视在功率的余弦分量</p><script type="math/tex; mode=display">P_{\text{有功}} = P_{//} = U_eI_{e//} = U_eI_e\cos \varphi = P\cos\varphi</script><h4 id="无功功率"><a href="#无功功率" class="headerlink" title="无功功率"></a>无功功率</h4><p>一个周期内含电容电感的电路存储或释放的能量，为视在功率的正弦分量。无功功率表示能量只是在电路中交换，并未被负载消耗。</p><script type="math/tex; mode=display">P_{\text{无功}} = P_{\bot} = U_eI_{e\bot} = U_eI_e\sin \varphi = P\sin\varphi</script><h4 id="提高功率因数的方法"><a href="#提高功率因数的方法" class="headerlink" title="提高功率因数的方法"></a>提高功率因数的方法</h4><p>o<br>电感性网络并联一个适当的电容即可提高功率因数。</p><h2 id="电磁场基本规律与电磁波"><a href="#电磁场基本规律与电磁波" class="headerlink" title="电磁场基本规律与电磁波"></a>电磁场基本规律与电磁波</h2><h3 id="静态电磁场的基本规律"><a href="#静态电磁场的基本规律" class="headerlink" title="静态电磁场的基本规律"></a>静态电磁场的基本规律</h3><p>PPT 465总结静电学静磁学的所有规律</p><h4 id="静电学"><a href="#静电学" class="headerlink" title="静电学"></a>静电学</h4><p>库伦定律</p><script type="math/tex; mode=display">\boldsymbol{F}_{21} = \frac{1}{4\pi\varepsilon_0}\frac{q_1q_2}{r^3_{21}}\boldsymbol{r}_{21}</script><p>叠加原理</p><script type="math/tex; mode=display">\boldsymbol{F}_{j} = \frac{1}{4\pi\varepsilon_0}q_j\sum^N_{i=1,i\neq j}\frac{q_i}{|\boldsymbol{r}-\boldsymbol{r}_{i}|^3}(\boldsymbol{r}-\boldsymbol{r}_{i})</script><p>高斯定理</p><script type="math/tex; mode=display">\oiint_S\boldsymbol{E}\cdot\text{d}\boldsymbol{S} = \frac{Q}{\varepsilon_0}</script><script type="math/tex; mode=display">\nabla \cdot\boldsymbol{E} = \frac{\rho}{\varepsilon_0}</script><p>环路定理</p><script type="math/tex; mode=display">\oint_L \boldsymbol{E}\cdot\text{d}\boldsymbol{l} = 0</script><script type="math/tex; mode=display">\nabla\times\boldsymbol{E}= 0</script><h4 id="静磁学"><a href="#静磁学" class="headerlink" title="静磁学"></a>静磁学</h4><p>毕萨定律</p><script type="math/tex; mode=display">\text{d}\boldsymbol{B} = \frac{\mu_0}{4\pi}\frac{I\text{d}\boldsymbol{l}\times\boldsymbol{r}}{r^3}</script><p>安培定律</p><script type="math/tex; mode=display">\text{d}\boldsymbol{F}_{12} = \frac{\mu_0}{4\pi}\frac{I_2\text{d}\boldsymbol{l}_2\times(I_1\text{d}\boldsymbol{l}_1\times\boldsymbol{r}_{12})}{r_{12}^3}</script><p>高斯定理</p><script type="math/tex; mode=display">\oiint_S\boldsymbol{B}\cdot\text{d}\boldsymbol{S} =0</script><script type="math/tex; mode=display">\nabla \cdot\boldsymbol{B} =0</script><p>环路定理</p><script type="math/tex; mode=display">\oint_L \boldsymbol{B}\cdot\text{d}\boldsymbol{l} = \mu_0 \sum I</script><script type="math/tex; mode=display">\nabla\times\boldsymbol{E}= \mu_0 \boldsymbol{j}</script><h4 id="电荷守恒定律"><a href="#电荷守恒定律" class="headerlink" title="电荷守恒定律"></a>电荷守恒定律</h4><script type="math/tex; mode=display">\oiint_S \boldsymbol{j}\cdot\text{d}\boldsymbol{S} = -\frac{\text{d}q}{\text{d}t}</script><script type="math/tex; mode=display">\nabla\cdot\boldsymbol{j}+\frac{\partial \rho}{\partial t} = 0</script><h4 id="电磁感应实验规律"><a href="#电磁感应实验规律" class="headerlink" title="电磁感应实验规律"></a>电磁感应实验规律</h4><script type="math/tex; mode=display">\varepsilon = -\frac{\text{d}\Phi}{\text{d}t}</script><script type="math/tex; mode=display">\oint_L \boldsymbol{E}_{\text{旋}}\cdot\text{d}\boldsymbol{l} = -\oiint_S \frac{\partial \boldsymbol{B}}{\partial t}\cdot \text{d}\boldsymbol{S}</script><h3 id="时变电磁场的基本规律"><a href="#时变电磁场的基本规律" class="headerlink" title="时变电磁场的基本规律"></a>时变电磁场的基本规律</h3><h4 id="两个推广"><a href="#两个推广" class="headerlink" title="两个推广"></a>两个推广</h4><ol><li>介质中静电场的通量定理对随时间变化的电场同样适用。</li><li>介质中静磁场的通量定理对随时间变化的磁场同样适用。</li></ol><h4 id="两个假设"><a href="#两个假设" class="headerlink" title="两个假设"></a>两个假设</h4><ol><li>随时间变化的磁场会激发涡旋电场，感生电动势正是来源于涡旋电场所产生的非静电力。<script type="math/tex; mode=display">\varepsilon = -\iint_{S_C}\frac{\partial\boldsymbol{B}}{\partial t}\cdot\text{d}\boldsymbol{S} = \oint_C\boldsymbol{E}\cdot\text{d}\boldsymbol{l}</script></li></ol><p>得到</p><script type="math/tex; mode=display">\nabla \times \boldsymbol{E} = -\frac{\partial \boldsymbol{B}}{\partial t}</script><ol><li>位移电流假设</li></ol><h4 id="位移电流假设"><a href="#位移电流假设" class="headerlink" title="位移电流假设"></a>位移电流假设</h4><p>随时间变化的电场和电流一样能激发磁场，引入位移电流密度</p><script type="math/tex; mode=display">\boldsymbol{j}_d \equiv \frac{\partial \boldsymbol{D}}{\partial t} = \varepsilon_0\frac{\partial \boldsymbol{E}}{\partial t} + \frac{\partial\boldsymbol{P}}{\partial t}</script><p>那么磁场的环路定理可以写成</p><script type="math/tex; mode=display">\oint_C\boldsymbol{H}\cdot\text{d}\boldsymbol{l} = \iint_S (\boldsymbol{j}_0 + \boldsymbol{j}_d)\cdot\text{d}\boldsymbol{S}= \iint_S (\boldsymbol{j}_0 +\frac{\partial \boldsymbol{D}}{\partial t} )\cdot\text{d}\boldsymbol{S}</script><p>即磁场强度的环量包含了传导电流与位移电流的贡献。</p><p>位移电流密度实际上是电荷守恒定律在非稳恒电流下成立的结果，它保证了非稳恒电流激发的磁场的环路定理右边的积分值唯一</p><p>PPT 477</p><p>即得到</p><script type="math/tex; mode=display">\nabla \times\boldsymbol{H} =\boldsymbol{j}_0 + \frac{\partial \boldsymbol{D}}{\partial t}</script><p>同时有上式，可以得到</p><script type="math/tex; mode=display">\oiint_S (\boldsymbol{j}_0 + \boldsymbol{j}_d)\cdot\text{d}\boldsymbol{S} = 0</script><p>可以分析，非稳恒情况下，传导电流断开处有位移电流接上。</p><p>位移电流并非自由电荷定向运动产生，在真空中和电介质中也可以存在。<br>位移电流没有焦耳热效应。<br>位移电流与外磁场没有安培力关系。</p><p>位移电流的物理本质是：空间中随时间变化的电场可以激发磁场。</p><h3 id="麦克斯韦方程组"><a href="#麦克斯韦方程组" class="headerlink" title="麦克斯韦方程组"></a>麦克斯韦方程组</h3><script type="math/tex; mode=display">\begin{aligned}\oiint_S \boldsymbol{D}\cdot\text{d}\boldsymbol{S} &= \iiint_V \rho_0\text{d}V \\\oint_C \boldsymbol{E}\cdot\text{d}\boldsymbol{l} &= -\iint_{S_C}\frac{\partial\boldsymbol{B}}{\partial t}\cdot\text{d}\boldsymbol{S} \\\oiint_S\boldsymbol{B}\cdot\text{d}\boldsymbol{S} &= 0 \\\oint_C \boldsymbol{H}\cdot\text{d}\boldsymbol{l}&= \iint_{S_C}(\boldsymbol{j}_0 + \frac{\partial\boldsymbol{D}}{\partial t}) \cdot\text{d}\boldsymbol{S}\end{aligned}</script><p>微分形式</p><script type="math/tex; mode=display">\begin{aligned}\nabla\cdot\boldsymbol{D}&=\rho_0 \\\nabla \times\boldsymbol{E}&=-\frac{\partial\boldsymbol{B}}{\partial t}\\\nabla \cdot\boldsymbol{B} &= 0\\\nabla\times\boldsymbol{H}&=\boldsymbol{j}_0 + \frac{\partial\boldsymbol{D}}{\partial t}\end{aligned}</script><p>性能方程</p><script type="math/tex; mode=display">\begin{aligned}\boldsymbol{D} &= \varepsilon \boldsymbol{E} \\\boldsymbol{B} &= \mu \boldsymbol{H}\\\boldsymbol{j}_0 &= \sigma \boldsymbol{E} \\\boldsymbol{P} &= \boldsymbol{D} - \varepsilon_0\boldsymbol{E} \\\boldsymbol{M} &= \frac{\boldsymbol{B}}{\mu_0} - \boldsymbol{H}\end{aligned}</script><p>真空中，$\sigma =0,\varepsilon=\varepsilon_0,\mu=\mu_0$</p><h4 id="边值关系"><a href="#边值关系" class="headerlink" title="边值关系"></a>边值关系</h4><p>由积分形式，作无限接近介质界面的回路或者曲面，从而得到边值关系</p><script type="math/tex; mode=display">\begin{aligned}\boldsymbol{n}\cdot(\boldsymbol{D}_2-\boldsymbol{D}_1) &= \sigma_0 \\\boldsymbol{n}\times(\boldsymbol{E}_2-\boldsymbol{E}_1) &= 0 \\\boldsymbol{n}\cdot(\boldsymbol{B}_2-\boldsymbol{B}_1) &= 0 \\\boldsymbol{n}\times(\boldsymbol{H}_2-\boldsymbol{H}_1) &= \boldsymbol{i}_0 \\\boldsymbol{n}\cdot(\boldsymbol{P}_1-\boldsymbol{P}_2) &= \sigma^{'} \\\boldsymbol{n}\times(\boldsymbol{M}_2-\boldsymbol{M}_1) &= \boldsymbol{i}^{'} \\\end{aligned}</script><h4 id="唯一性定理"><a href="#唯一性定理" class="headerlink" title="唯一性定理"></a>唯一性定理</h4><p>电磁场唯一性定理：空间电荷和电流分布给定，边值条件已知，麦克斯韦方程组由唯一确定解。</p><h4 id="电磁场中的受力情况"><a href="#电磁场中的受力情况" class="headerlink" title="电磁场中的受力情况"></a>电磁场中的受力情况</h4><p>带电粒子在磁场中的受力</p><script type="math/tex; mode=display">\boldsymbol{F} = q\boldsymbol{E}+q\boldsymbol{v}\times\boldsymbol{B}</script><p>洛伦兹力不做功，只传递能量。</p><p>安培力的本质是洛伦兹力。</p><p>电流在磁场中的受力</p><script type="math/tex; mode=display">\begin{aligned}\boldsymbol{F} &= q\boldsymbol{v}\times\boldsymbol{B} \\\boldsymbol{F} &= \oint_L I\text{d}\boldsymbol{l}\times\boldsymbol{B}\\\boldsymbol{F} &= \iint_S\boldsymbol{i}\times\boldsymbol{B}\text{d}{S} \\\boldsymbol{F} &= \iiint_V\boldsymbol{j}\times\boldsymbol{B}\text{d}V\\\end{aligned}</script><h3 id="平面电磁波"><a href="#平面电磁波" class="headerlink" title="平面电磁波"></a>平面电磁波</h3><p>自由空间介质中，$\boldsymbol{D} = \varepsilon\boldsymbol{E},\boldsymbol{B}=\mu\boldsymbol{H}$,而且$\rho=0,\boldsymbol{j}_0=0$</p><p>所以有如下方程组</p><script type="math/tex; mode=display">\nabla\cdot\boldsymbol{E} = 0 \\</script><script type="math/tex; mode=display">\nabla\cdot\boldsymbol{H} = 0 \\</script><script type="math/tex; mode=display">\nabla\times\boldsymbol{E} = -\mu\frac{\partial \boldsymbol{H}}{\partial t} \\</script><script type="math/tex; mode=display">\nabla\times\boldsymbol{H} = \varepsilon\frac{\partial \boldsymbol{E}}{\partial t} \\</script><p>在均匀各向同性介质中的平面电磁波中，可以取$\nabla = j\boldsymbol{k},\displaystyle\frac{\partial}{\partial t}=-j\omega$，将这些写成复数形式</p><script type="math/tex; mode=display">\boldsymbol{k}\cdot\boldsymbol{E} = 0 \\</script><script type="math/tex; mode=display">\boldsymbol{k}\cdot\boldsymbol{H} = 0 \\</script><script type="math/tex; mode=display">\boldsymbol{k}\times\boldsymbol{E} = \mu\omega\boldsymbol{H}\\</script><script type="math/tex; mode=display">\boldsymbol{k}\times\boldsymbol{H} = -\varepsilon \omega \boldsymbol{E} \\</script><p>$\boldsymbol{k}$指向波的前进方向。$E,H,k$右手系。</p><p>一些变量的关系</p><script type="math/tex; mode=display">v = \sqrt{\frac{1}{\mu\varepsilon}} = \sqrt{\frac{\mu_0\varepsilon_0}{\mu\varepsilon}}c</script><script type="math/tex; mode=display">c=\sqrt{\frac{1}{\mu_0\varepsilon_0}}</script><script type="math/tex; mode=display">k=\omega\sqrt{\mu\varepsilon}</script><p>$k$为波数，即$2\pi$米长度上波的数量。</p><script type="math/tex; mode=display">k=2\pi/\lambda</script><p>用复数法表示波的方程</p><script type="math/tex; mode=display">\boldsymbol{E} = \boldsymbol{E}_0\text{e}^{j(kx-\omega t)}</script><script type="math/tex; mode=display">\boldsymbol{H} = \boldsymbol{H}_0\text{e}^{j(kx-\omega t)}</script><p>其他关系：<br>真空中</p><script type="math/tex; mode=display">\frac{E_0}{B_0} = \sqrt{\frac{1}{\varepsilon_0\mu_0}} = c</script><p>介质中</p><script type="math/tex; mode=display">\frac{E_0}{B_0} = \sqrt{\frac{1}{\varepsilon\mu}} = \frac{c}{n}</script><p>以上说明，电磁波在传播过程中，电场强度与磁场强度的幅值成正比，而且任意一点的电场能量密度和磁场能量密度是相等的。<br>推导方法为$k$硬叉乘上去。</p><p>n为折射率，</p><script type="math/tex; mode=display">n=\sqrt{\frac{\varepsilon\mu}{\varepsilon_0\mu_0}}</script><p>通常介质的磁导率相差不大，可以认为$\mu\approx\mu_0$</p><h3 id="电磁场的能量、动量和角动量"><a href="#电磁场的能量、动量和角动量" class="headerlink" title="电磁场的能量、动量和角动量"></a>电磁场的能量、动量和角动量</h3><p>令$\boldsymbol{S}=\boldsymbol{E}\times\boldsymbol{H}$为电磁场的能流密度，又称作坡印廷矢量</p><script type="math/tex; mode=display">w\equiv \frac{1}{2}(\varepsilon E^2 + \frac{1}{\mu}B^2)</script><p>则有</p><script type="math/tex; mode=display">-\frac{\partial w}{\partial t} = \nabla\cdot\boldsymbol{S} + \boldsymbol{j}\cdot\boldsymbol{E}</script><p>电磁场对$\text{d}V$内顶电梯所做的功和流出空间$\text{d}V$的能量之和等于$\text{d}V$内电磁场能量的减少，本质上是能量守恒定律的体现。<br>o<br>积分得到</p><script type="math/tex; mode=display">-\oiint_S\boldsymbol{S}\cdot\text{d}\boldsymbol{s} = \frac{\text{d}}{\text{d}t}(W+W_n)</script><p>即电磁场流入封闭曲面$\boldsymbol{s}$的能量，等于$\boldsymbol{s}$内总能量的增加。</p><p>我们可以看到，坡印廷矢量和焦耳热效应完完全全代表了空间中电磁场能量的变化情况。类似于电流输入的问题都可以转化成为坡印亭矢量进行求解。</p><h4 id="平面电磁场的能量问题"><a href="#平面电磁场的能量问题" class="headerlink" title="平面电磁场的能量问题"></a>平面电磁场的能量问题</h4><p>$w=gv$的式子我不知道怎么来的。</p><p>总之，<br>电磁场能量密度</p><script type="math/tex; mode=display">w=\frac{1}{2}(\varepsilon E^2 + \frac{1}{\mu}B^2) = \varepsilon E^2 = \frac{1}{\mu}B^2 = \mu H^2</script><script type="math/tex; mode=display">\boldsymbol{S} = \boldsymbol{E}\times\boldsymbol{H} = w\boldsymbol{v} = \boldsymbol{g} v^2</script><p>动量密度</p><script type="math/tex; mode=display">\boldsymbol{g} = \boldsymbol{S}/v^2 = \mu\varepsilon(\boldsymbol{E}\times\boldsymbol{H}) = \boldsymbol{D}\times\boldsymbol{B}</script><p>角动量密度</p><script type="math/tex; mode=display">\boldsymbol{l}= \boldsymbol{r} \times\boldsymbol{g}</script><p>带入方程</p><script type="math/tex; mode=display">\boldsymbol{E}(\boldsymbol{r}, t) =E_0\cos(\boldsymbol{k}\cdot\boldsymbol{r}-\omega t + \delta) \hat{n}</script><script type="math/tex; mode=display">\boldsymbol{B}(\boldsymbol{r}, t) = \frac{1}{c}\hat{k}\times\boldsymbol{E}</script><p>计算得到</p><script type="math/tex; mode=display">w=\varepsilon_0 E^2_0\cos^2(\boldsymbol{k}\cdot\boldsymbol{r}-\omega t + \delta)</script><script type="math/tex; mode=display">\left<w\right> = \frac{1}{2}\varepsilon_0E_0^2 = \frac{1}{2\mu_0}B_0^2</script><script type="math/tex; mode=display">\boldsymbol{S} = \frac{1}{\mu_0}\boldsymbol{E}\times\boldsymbol{B} = c\varepsilon_0 E^2_0\cos^2(\boldsymbol{k}\cdot\boldsymbol{r}-\omega t + \delta)\hat{k} = cw\hat{k}</script><script type="math/tex; mode=display">\left<\boldsymbol{S}\right> = c\left<w\right>\hat{k}</script><p>电磁波的强度</p><script type="math/tex; mode=display">I=|\left<\boldsymbol{S}\right>| = c\frac{1}{2}\varepsilon_0E_0^2 = \frac{c}{2\mu_0}B_0^2</script><p>动量密度</p><script type="math/tex; mode=display">\boldsymbol{g} = \boldsymbol{D}\times\boldsymbol{B} = \frac{\boldsymbol{S}}{v^2} = \frac{w\boldsymbol{v}}{v^2}</script><script type="math/tex; mode=display">\boldsymbol{l}= \boldsymbol{r} \times\boldsymbol{g}</script><h4 id="电磁场能量在电路中的传输"><a href="#电磁场能量在电路中的传输" class="headerlink" title="电磁场能量在电路中的传输"></a>电磁场能量在电路中的传输</h4><p>电源内部：坡印廷矢量方向向外，输出能量。</p><p>导线上：内部电场平行于电流方向，坡印廷矢量指向内部；<br>外部有切向电场维持电荷的宏观移动，这部分的坡印廷矢量指向导线内部。</p><h4 id="光压"><a href="#光压" class="headerlink" title="光压"></a>光压</h4><script type="math/tex; mode=display">p=(1+R)w</script><p>$R$为反射系数或者反射率，$R=1$全反射，$R=0$全吸收。</p><p>$w$为能量密度。给出功率的话，需要计算能量密度</p><script type="math/tex; mode=display">w=\frac{\Delta W}{\Delta V}=\frac{P\Delta t}{c\Delta t S} = \frac{P}{cS}</script><p>$c$为光速。</p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>电磁学东西很多，即使只是C类课程也已经让我焦头烂额。好在整理了这些知识点后，对学过的东西和需要的东西有了更深的体会。期末虽然成绩不算优异，但是已经很满意了。</p>]]></content>
    
    
    <categories>
      
      <category>学习</category>
      
      <category>物理</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
      <tag>课内复习</tag>
      
      <tag>物理</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>电磁学C复习-磁学部分一</title>
    <link href="/2022/02/02/%E7%94%B5%E7%A3%81%E5%AD%A6C%E5%A4%8D%E4%B9%A0-%E7%A3%81%E5%AD%A6%E9%83%A8%E5%88%86%E4%B8%80/"/>
    <url>/2022/02/02/%E7%94%B5%E7%A3%81%E5%AD%A6C%E5%A4%8D%E4%B9%A0-%E7%A3%81%E5%AD%A6%E9%83%A8%E5%88%86%E4%B8%80/</url>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文章是作者在学习电磁学时进行期末复习时做出的笔记。磁学内容较多，分为两个部分。这里是第一部分。</p><p>限于版权问题，复习的PPT不能够外传。本笔记仅提供提纲。</p><span id="more"></span><h2 id="第四章"><a href="#第四章" class="headerlink" title="第四章"></a>第四章</h2><h3 id="第一节"><a href="#第一节" class="headerlink" title="第一节"></a>第一节</h3><h4 id="洛伦兹力公式"><a href="#洛伦兹力公式" class="headerlink" title="洛伦兹力公式"></a>洛伦兹力公式</h4><script type="math/tex; mode=display">\newcommand{\oiint}{\subset\kern{-3pt}\supset\kern{-16.5pt}\iint}\vec{F} = q\vec{v}\times \vec{B}</script><h4 id="安培力"><a href="#安培力" class="headerlink" title="安培力"></a>安培力</h4><p>电流密度公式</p><script type="math/tex; mode=display">\boldsymbol{j} = nq\boldsymbol{u}</script><p>每个载流子收到的洛伦兹力为</p><script type="math/tex; mode=display">q\boldsymbol{u}\times\boldsymbol{B}</script><p>则有安培力</p><script type="math/tex; mode=display">\text{d}\boldsymbol{F} = n\text{d}V q\boldsymbol{u}\times\boldsymbol{B} = \boldsymbol{j}\times\boldsymbol{B}\text{d}V</script><p>其中可以替换电流元</p><script type="math/tex; mode=display">\boldsymbol{j}\text{d}V = \boldsymbol{i}\text{d}S = I\text{d}\boldsymbol{l}</script><p>注意面电流元的表示方法。</p><p>也有公式总结如</p><script type="math/tex; mode=display">\boldsymbol{F}= \iiint_V\boldsymbol{j}\times\boldsymbol{B}\text{d}V</script><h4 id="安培定律"><a href="#安培定律" class="headerlink" title="安培定律"></a>安培定律</h4><p>两个电流源之间的作用力满足公式</p><script type="math/tex; mode=display">\text{d}\boldsymbol{F}_{12} = \frac{\mu_0}{4\pi}\frac{I_2\text{d}\boldsymbol{l}_2\times (I_1\text{d}\boldsymbol{l}_1\times \boldsymbol{r}_{12})}{r_{12}^3}</script><p>对于面电流元和体电流元也可以这样表示</p><script type="math/tex; mode=display">\text{d}\boldsymbol{F}_{12} = \frac{\mu_0}{4\pi}\frac{\boldsymbol{i}_2\text{d}{S}_2\times (\boldsymbol{i}_1\text{d}{S}_1\times \boldsymbol{r}_{12})}{r_{12}^3}</script><script type="math/tex; mode=display">\text{d}\boldsymbol{F}_{12} = \frac{\mu_0}{4\pi}\frac{\boldsymbol{j}_2\text{d}{V}_2\times (\boldsymbol{j}_1\text{d}{V}_1\times \boldsymbol{r}_{12})}{r_{12}^3}</script><p>电流元之间的相互作用力不一定满足牛顿第三定律，因为不存在孤立的恒稳电流元。</p><p>电流元在外磁场中受到的安培力为</p><script type="math/tex; mode=display">    \text{d}\boldsymbol{F} = I\text{d}\boldsymbol{l}\times \boldsymbol{B}</script><p>这在前文有所提及了。</p><h4 id="磁矩"><a href="#磁矩" class="headerlink" title="磁矩"></a>磁矩</h4><p>定义磁矩$\boldsymbol{m}$</p><script type="math/tex; mode=display">\boldsymbol{m} = I\boldsymbol{S}</script><h4 id="载流线圈在磁场中受到的力矩"><a href="#载流线圈在磁场中受到的力矩" class="headerlink" title="载流线圈在磁场中受到的力矩"></a>载流线圈在磁场中受到的力矩</h4><script type="math/tex; mode=display">\boldsymbol{L} = \boldsymbol{m}\times\boldsymbol{B}</script><p>作为对比，电偶极子在外电场中受到的力矩公式为$\boldsymbol{L} = \boldsymbol{P}\times\boldsymbol{E}$</p><h3 id="电流的磁场"><a href="#电流的磁场" class="headerlink" title="电流的磁场"></a>电流的磁场</h3><h4 id="磁场叠加原理"><a href="#磁场叠加原理" class="headerlink" title="磁场叠加原理"></a>磁场叠加原理</h4><script type="math/tex; mode=display">\boldsymbol{B} = \sum \boldsymbol{B}_i</script><script type="math/tex; mode=display">\boldsymbol{B} = \oint_L \text{d}\boldsymbol{B}</script><h4 id="毕奥-萨法尔定律"><a href="#毕奥-萨法尔定律" class="headerlink" title="毕奥-萨法尔定律"></a>毕奥-萨法尔定律</h4><script type="math/tex; mode=display">\text{d}\boldsymbol{B} = \frac{\mu_0}{4\pi}I\text{d}\boldsymbol{l} \times \frac{\boldsymbol{r}}{r^3}</script><p>这个可以由安培定律比较推导出来</p><script type="math/tex; mode=display">\text{d}\boldsymbol{F}_{12} = \frac{\mu_0}{4\pi}\frac{I_2\text{d}\boldsymbol{l}_2\times (I_1\text{d}\boldsymbol{l}_1\times \boldsymbol{r}_{12})}{r_{12}^3} = I_2\text{d}\boldsymbol{l}_2 \times \left(\frac{\mu_0}{4\pi}\frac{I_{1}\text{d}\boldsymbol{l}_1\times\boldsymbol{r_{12}}}{r_{12}^3}\right)</script><h4 id="积分形式"><a href="#积分形式" class="headerlink" title="积分形式"></a>积分形式</h4><script type="math/tex; mode=display">\boldsymbol{B} = \frac{\mu_0}{4\pi}\oint_L\frac{I\text{d}\boldsymbol{l}\times\boldsymbol{r}}{r^3}</script><h4 id="电流环产生的磁场"><a href="#电流环产生的磁场" class="headerlink" title="电流环产生的磁场"></a>电流环产生的磁场</h4><script type="math/tex; mode=display">\boldsymbol{B} = -\frac{\mu_0}{4\pi}\left(\frac{\boldsymbol{m}}{r^3}-\frac{3(\boldsymbol{m}\cdot\boldsymbol{r})\boldsymbol{r}}{r^5}\right)</script><p>任意均匀闭合回路均可。需要有几何中心。</p><h4 id="亥姆赫兹线圈"><a href="#亥姆赫兹线圈" class="headerlink" title="亥姆赫兹线圈"></a>亥姆赫兹线圈</h4><p>要求线圈之间的距离$d$ 等于线圈的半径$R$</p><script type="math/tex; mode=display">B_(x) = \frac{\mu_0NIR^2}{2\left(r^2+(\frac{d}{2}+x)^2\right)^{3/2}} + \frac{\mu_0NIR^2}{2\left(r^2+(\frac{d}{2}-x)^2\right)^{3/2}} = \left(\frac{4}{5}\right)^{3/2}\frac{\mu_0NI}{R}</script><h4 id="通电螺线管的磁场分布"><a href="#通电螺线管的磁场分布" class="headerlink" title="通电螺线管的磁场分布"></a>通电螺线管的磁场分布</h4><p>参考PPT4-2，太难了</p><p>使用三角函数辅助计算的方法。</p><script type="math/tex; mode=display">B = \frac{\mu_0nI}{2}(\cos \beta_1 - \cos\beta_2)</script><p>中间为$\mu_0nI$，两边为$\mu_0nI/2$</p><h4 id="运动电荷的磁场"><a href="#运动电荷的磁场" class="headerlink" title="运动电荷的磁场"></a>运动电荷的磁场</h4><p>单个运动电荷产生的磁场推导如下</p><script type="math/tex; mode=display">I=\frac{\Delta q}{\Delta t}  = nqvS</script><script type="math/tex; mode=display">\text{d}N = n\text{d}V = nS\text{d}l</script><p>所以</p><script type="math/tex; mode=display">\boldsymbol{B} = \frac{\text{d}\boldsymbol{B}}{\text{d}N} = \frac{\mu_0}{4\pi}\frac{I\text{d}\boldsymbol{l}\times\boldsymbol{r}}{\text{d}Nr^3} = \frac{\mu_0}{4\pi}\frac{nqvS\text{d}\boldsymbol{l}\times\boldsymbol{r}}{\text{d}nS\text{d}lr^3} = \frac{\mu_0}{4\pi}\frac{q\boldsymbol{v}\times\boldsymbol{r}}{r^3}</script><p>可以得到</p><script type="math/tex; mode=display">\boldsymbol{B} = \mu_0\varepsilon_0\boldsymbol{v}\times\boldsymbol{E} = \frac{1}{c^2}\boldsymbol{v}\times\boldsymbol{E}</script><h4 id="磁场对电流的力与力矩"><a href="#磁场对电流的力与力矩" class="headerlink" title="磁场对电流的力与力矩"></a>磁场对电流的力与力矩</h4><p>带电粒子</p><script type="math/tex; mode=display">\boldsymbol{F} = q\boldsymbol{v}\times \boldsymbol{B}</script><p>电流受到的安培力，相当于把前文的电流元安培力进行了积分处理。</p><script type="math/tex; mode=display">\boldsymbol{F} = \oint_L I\text{d}\boldsymbol{l} \times \boldsymbol{B}</script><script type="math/tex; mode=display">\boldsymbol{F} = \iint_S\boldsymbol{i}\times\boldsymbol{B}\text{d}S</script><script type="math/tex; mode=display">\boldsymbol{F} = \iiint_V \boldsymbol{j}\times\boldsymbol{B}\text{d}V</script><p>力矩也是类似地进行了积分</p><script type="math/tex; mode=display">\boldsymbol{L} = \oint_L \boldsymbol{r} \times\left( I\text{d}\boldsymbol{l} \times \boldsymbol{B}\right)</script><script type="math/tex; mode=display">\boldsymbol{L} =  \iint_S\boldsymbol{r}\times(\boldsymbol{i}\times\boldsymbol{B})\text{d}S</script><script type="math/tex; mode=display">\boldsymbol{L} = \iiint_V \boldsymbol{r}\times(\boldsymbol{j}\times\boldsymbol{B})\text{d}V</script><h4 id="载流线圈在非均匀磁场中受到的力和力矩"><a href="#载流线圈在非均匀磁场中受到的力和力矩" class="headerlink" title="载流线圈在非均匀磁场中受到的力和力矩"></a>载流线圈在非均匀磁场中受到的力和力矩</h4><script type="math/tex; mode=display">\boldsymbol{F} =  (\boldsymbol{m}\cdot \nabla) \boldsymbol{B}</script><script type="math/tex; mode=display">\boldsymbol{F} = \boldsymbol{m} \times \boldsymbol{B}</script><h3 id="静磁场基本定理"><a href="#静磁场基本定理" class="headerlink" title="静磁场基本定理"></a>静磁场基本定理</h3><h4 id="磁通量"><a href="#磁通量" class="headerlink" title="磁通量"></a>磁通量</h4><script type="math/tex; mode=display">\boldsymbol{B}\cdot \Delta \boldsymbol{S} = \Delta \Phi_B</script><p>or</p><script type="math/tex; mode=display">\Phi_B = \iint_S \boldsymbol{B}\cdot\text{d}\boldsymbol{S}</script><p>单位韦伯Wb,1Wb = 1T$\cdot$m$^2$</p><h4 id="高斯定理"><a href="#高斯定理" class="headerlink" title="高斯定理"></a>高斯定理</h4><p>通过任意闭合曲面$S$的磁通量为零。</p><script type="math/tex; mode=display">\iint_S\boldsymbol{B}\cdot\text{d}\boldsymbol{S} = 0</script><h4 id="安培环路定理"><a href="#安培环路定理" class="headerlink" title="安培环路定理"></a>安培环路定理</h4><p>任意闭合曲线$L$的磁感应强度地环量等于穿过$L$的电流强度的代数和的$\mu_0$倍。</p><script type="math/tex; mode=display">\oint_L \boldsymbol{B}\cdot\text{d}\boldsymbol{L} = \mu_0\sum_L\pm I_{\text{内}}</script><p>磁场有旋。方向按照右手定则确定。</p><p>由斯托克斯公式</p><script type="math/tex; mode=display">\oint_L \boldsymbol{B}\cdot\text{d}\boldsymbol{L} = \iint_S (\nabla \times \boldsymbol{B})\cdot \text{d}\boldsymbol{S}</script><p>由电流的求和</p><script type="math/tex; mode=display">\sum I = \iint_S \boldsymbol{j} \cdot \text{d}\boldsymbol{S}</script><p>比较可得</p><script type="math/tex; mode=display">\nabla \times \boldsymbol{B} = \mu_0\boldsymbol{j}</script><p>这里可以注意到，$\boldsymbol{j}\cdot\text{d}\boldsymbol{S}$和$i\text{d}\boldsymbol{S}$是不同的。这里考虑的电流是体分布的，而不是面分布的。</p><h4 id="螺线管碎碎念"><a href="#螺线管碎碎念" class="headerlink" title="螺线管碎碎念"></a>螺线管碎碎念</h4><p>计算螺线管内部磁感应强度分布时，可以将螺线管看作电流环的叠加。</p><p>计算外部磁感应强度时，需要将螺线管近似成无限长直导线。那么可以求得$B_{\bot} = \displaystyle\frac{\mu_0I}{2\pi r}$.</p><h4 id="电流在外磁场中的受力问题"><a href="#电流在外磁场中的受力问题" class="headerlink" title="电流在外磁场中的受力问题"></a>电流在外磁场中的受力问题</h4><p>外磁场为处受力体电流之外所产生的磁场。</p><p>同样的，有如下的关系成立</p><script type="math/tex; mode=display">\boldsymbol{B} = \boldsymbol{B}_t - \boldsymbol{B}_1</script><p>因此应用毕奥萨法尔定理和环路定理得到磁感应分布，有</p><ol><li>体电流元$\boldsymbol{j}\text{d}V$在附近产生的磁感应强度为零。（使用毕奥定理论证）</li><li>面电流元$\boldsymbol{i}\text{d}{S}$在两侧产生的磁感应强度存在间断，大小为$\mu_0i/2$，方向相反，与面元相切。（使用环路定理论证，这时候代入公式的不是电流元而是电流$i\text{d}l$）</li><li>线电流元不能直接推广。必须引入有限截面，当作体电流元处理。（使用环路定理论证）</li></ol><p>外磁场$B$通常是连续的，总磁场$B_t$和自身磁场$B_1$通常是不连续的，但是相减后可以抵消。</p><p>这里去好好看看PPT例题和作业题，太难了吧。</p><h4 id="电流元"><a href="#电流元" class="headerlink" title="电流元"></a>电流元</h4><p>电流元既表示电流的大小，又表示电流的考察尺度和流动方向。通常的线电流元是</p><script type="math/tex; mode=display">I\text{d}\boldsymbol{l}</script><p>如果电流沿面分布，可以考虑电流的面密度，即电流穿过一个横截线的大小，$i = \displaystyle\frac{\text{d}I}{\text{d}l}$，那么电流元可以表示为</p><script type="math/tex; mode=display">\boldsymbol{i}\text{d}S</script><p>如果电流在空间内分布，可以考虑电流的体密度，即电流穿过一个平面的大小，$j = \displaystyle\frac{\text{d}I}{\text{d}S}$，那么电流元可以表示为</p><script type="math/tex; mode=display">\boldsymbol{j}\text{d}V</script><p>它们的量纲都是相同的。</p><p>PAGE 110 留念</p><h3 id="带电粒子在磁场中的运动"><a href="#带电粒子在磁场中的运动" class="headerlink" title="带电粒子在磁场中的运动"></a>带电粒子在磁场中的运动</h3><h4 id="洛伦兹力"><a href="#洛伦兹力" class="headerlink" title="洛伦兹力"></a>洛伦兹力</h4><script type="math/tex; mode=display">\boldsymbol{F} = q\boldsymbol{v}\times\boldsymbol{B}</script><h4 id="洛伦兹力做功"><a href="#洛伦兹力做功" class="headerlink" title="洛伦兹力做功"></a>洛伦兹力做功</h4><p>洛伦兹力不做功</p><script type="math/tex; mode=display">\boldsymbol{F} \cdot \boldsymbol{v} = q\boldsymbol{v}\times\boldsymbol{B} \cdot \boldsymbol{v} = 0</script><h4 id="带电粒子在匀强磁场中的运动"><a href="#带电粒子在匀强磁场中的运动" class="headerlink" title="带电粒子在匀强磁场中的运动"></a>带电粒子在匀强磁场中的运动</h4><p>运动方程</p><script type="math/tex; mode=display">m\frac{\text{d}\boldsymbol{v}}{\text{d}t} = q\boldsymbol{v}\times\boldsymbol{B}</script><p>$F$只在平面上有分布，假设为x-y平面，有</p><script type="math/tex; mode=display">\left\{\begin{aligned}\frac{\text{d}v_x}{\text{d}t} &= \frac{q}{m}v_yB \\\frac{\text{d}v_y}{\text{d}t} &= -\frac{q}{m}v_xB \\v_z &= \text{const}\end{aligned}\right.</script><p>可以解出轨迹方程。</p><p>回旋角频率</p><script type="math/tex; mode=display">\omega = \frac{qB}{m}</script><p>回旋周期</p><script type="math/tex; mode=display">T = \frac{2\pi m}{qB}</script><p>回旋半径</p><script type="math/tex; mode=display">R = \frac{v_{\bot}}{\omega} = \frac{v_{\bot}m}{qB}</script><p>回旋频率</p><script type="math/tex; mode=display">f = \frac{qB}{2\pi m}</script><h4 id="带电粒子在正交匀强电磁场中的运动"><a href="#带电粒子在正交匀强电磁场中的运动" class="headerlink" title="带电粒子在正交匀强电磁场中的运动"></a>带电粒子在正交匀强电磁场中的运动</h4><p>E沿y轴，B沿z轴，初速度$\boldsymbol{v}_0$</p><script type="math/tex; mode=display">\boldsymbol{v}_0 = v_0\cos\alpha \boldsymbol{i} + v_o\cos\beta\boldsymbol{j}+v_0\cos\gamma\boldsymbol{k}</script><p>运动方程为</p><script type="math/tex; mode=display">\left\{\begin{aligned}\frac{\text{d}v_x}{\text{d}t} &= \frac{q}{m}v_yB \\\frac{\text{d}v_y}{\text{d}t} &= \frac{q}{m}(E-v_xB) \\v_z &=\text{const}\end{aligned}\right.</script><p>解得</p><script type="math/tex; mode=display">\left\{\begin{aligned}v_x &= \frac{E}{B} + v_{\bot}\sin(\omega t + \varphi) \\v_y &= v_{\bot}\cos(\omega t + \varphi) \\v_z& = v_0\cos\gamma\end{aligned}\right.</script><p>这里$\omega$为回旋角频率，$\varphi$得取值使得$\boldsymbol{v}|_{t=0} = \boldsymbol{v}_0$</p><p>是一个漂移的圆周运动。</p><h4 id="带电粒子在缓变非均匀磁场中的运动"><a href="#带电粒子在缓变非均匀磁场中的运动" class="headerlink" title="带电粒子在缓变非均匀磁场中的运动"></a>带电粒子在缓变非均匀磁场中的运动</h4><p>非均匀尺度远大于带电粒子回旋半径。非均匀性将破坏$v_{\bot}$和$v_{//}$的守恒性。</p><p>在这一过程中，粒子的回旋磁矩是守恒的。带电粒子绕磁场的快速回旋形成了一个电流环，该电流环的磁矩称为粒子的回旋磁矩。</p><p>推导过程看PPT，这里给出结论</p><script type="math/tex; mode=display">\mu = I\Delta S = \frac{q\omega}{2\pi}\pi R^2 = \frac{\frac{1}{2}mv_{\bot}^2}{B} = \text{const}</script><p>回旋半径和回旋速度则可以使用回旋磁矩表示</p><script type="math/tex; mode=display">R = \sqrt{\frac{2\mu m}{q^2B}}</script><script type="math/tex; mode=display">v_{\bot} = \sqrt{\frac{2\mu B}{m}}</script><p>同时也能发现磁场穿过圆形轨道的磁通量守恒</p><script type="math/tex; mode=display">\Phi = BS = \pi R^2B = \frac{2\mu\pi m}{q^2} = \text{const}</script><p>这一节的应用，看PPT。</p><h4 id="磁镜磁约束"><a href="#磁镜磁约束" class="headerlink" title="磁镜磁约束"></a>磁镜磁约束</h4><p>看PPT的图。在磁场最弱的地方，投入粒子，投掷角为$\theta$。投掷角定义为$v_0\sin\theta = v_{0\bot}$</p><p>临界投掷角为$\theta_m$。由回旋磁矩守恒</p><script type="math/tex; mode=display">\frac{1}{2}mv^2\sin^2\theta_m/B_0 = \frac{1}{2}mv^2/B_{max}</script><p>即</p><script type="math/tex; mode=display">\sin^2\theta_m = \frac{B_0}{B_m} = \frac{1}{R_{mi}}</script><p>$R_{mi}$称为磁镜比。</p><h4 id="球冠面积和体积"><a href="#球冠面积和体积" class="headerlink" title="球冠面积和体积"></a>球冠面积和体积</h4><p>这是基本微积分可以解决的问题！！</p><p>有问题一定要考虑自己已经掌握了的知识！！我学过微积分了！我会积分的！</p><script type="math/tex; mode=display">S = 2\pi R^2H</script><h3 id="霍尔效应"><a href="#霍尔效应" class="headerlink" title="霍尔效应"></a>霍尔效应</h3><p>洛伦兹力和电力平衡$E_hq = qvB$</p><script type="math/tex; mode=display">V_h = E_hb = vbB</script><p>N型半导体中电子浓度为n，电流为</p><script type="math/tex; mode=display">I = nebdv</script><p>推导得到</p><script type="math/tex; mode=display">V_h = \frac{1}{ne}\frac{IB}{d} = R_h \frac{IB}{d} = K_hIB</script><p>物理量$\displaystyle R_h = \frac{1}{nq}$为霍尔系数，$K_h = R_h / d$为霍尔元件的灵敏度，$r_h = \displaystyle\frac{V_h}{I}=K_hB$为霍尔电阻。</p><p>你需要知道什么是霍尔效应。看PPT去吧。霍尔电阻只是具有电阻的量纲，没有电阻效应。</p><h2 id="第五章"><a href="#第五章" class="headerlink" title="第五章"></a>第五章</h2><h3 id="磁介质及其磁化"><a href="#磁介质及其磁化" class="headerlink" title="磁介质及其磁化"></a>磁介质及其磁化</h3><p>有介质时的总磁场</p><script type="math/tex; mode=display">\boldsymbol{B} = \boldsymbol{B}_0 + \boldsymbol{B}^{'} = \mu_r\boldsymbol{B}_0</script><h4 id="磁化电流"><a href="#磁化电流" class="headerlink" title="磁化电流"></a>磁化电流</h4><p>在磁化状态下，由于分子电流的有序排列，磁介质中将出现宏观电流，称为磁化电流。</p><ol><li>磁化电流不伴随电荷的宏观位移。</li><li>磁化电流可存在于一切磁介质中，不具有焦耳热效应。</li><li>在激发磁场和受磁场作用方面磁化电流和传导电流相同。</li></ol><h4 id="磁化强度"><a href="#磁化强度" class="headerlink" title="磁化强度"></a>磁化强度</h4><p>磁化强度定义为体积元内分子磁矩的矢量和。</p><script type="math/tex; mode=display">\boldsymbol{M} = \frac{\sum \boldsymbol{m}_{\text{分子}}}{\Delta V}</script><p>$\boldsymbol{M}=0$时磁介质处于非磁化态。</p><h4 id="分子平均磁矩"><a href="#分子平均磁矩" class="headerlink" title="分子平均磁矩"></a>分子平均磁矩</h4><p>分子平均磁矩定义为</p><script type="math/tex; mode=display">\boldsymbol{m}_a = \frac{\sum \boldsymbol{m}_{\text{分子}}}{n\Delta V} = \frac{\boldsymbol{M}}{n}</script><p>$\boldsymbol{m}_a$可以认为是平均分子电流产生的，电流强度为$I_a$，所围成的面积矢量为$S_a$，则</p><script type="math/tex; mode=display">\boldsymbol{m}_a=I_a\boldsymbol{S}_a,\boldsymbol{M}_a=nI_a\boldsymbol{S}_a</script><h4 id="磁化电流与磁化强度"><a href="#磁化电流与磁化强度" class="headerlink" title="磁化电流与磁化强度"></a>磁化电流与磁化强度</h4><script type="math/tex; mode=display">\oint_L\boldsymbol{M}\cdot\text{d}\boldsymbol{l} = \sum I^{'}</script><p>即</p><script type="math/tex; mode=display">\nabla \times \boldsymbol{M} = \boldsymbol{j}^{'}</script><p>均匀磁化介质内部，磁化电流为零。</p><p>一般地，在介质表面和两种介质交界面上，会有面分布的磁化电流。</p><p>在介质表面，磁化面电流可以这样求得</p><script type="math/tex; mode=display">\boldsymbol{i}^{'} = \boldsymbol{M}\times\boldsymbol{n}</script><p>PAGE 184</p><h3 id="磁性材料"><a href="#磁性材料" class="headerlink" title="磁性材料"></a>磁性材料</h3><p>磁介质在外磁场$B_0$中磁化，产生的磁化电流激发新的磁场$B^{‘}$，总磁场应为$B=B_0+B^{‘}$</p><p>由高斯定理和安培环路定理</p><script type="math/tex; mode=display">\oiint_S\boldsymbol{B}\cdot\text{d}\boldsymbol{S} = 0</script><script type="math/tex; mode=display">\oint_L \boldsymbol{B}\cdot\text{d}\boldsymbol{l} = \mu_0\sum I_0 + \mu_0 \sum I^{'}</script><h4 id="磁场强度"><a href="#磁场强度" class="headerlink" title="磁场强度"></a>磁场强度</h4><p>有安培环路定理</p><script type="math/tex; mode=display">\oint_L \left(\frac{\boldsymbol{B}}{\mu_0}-\boldsymbol{M}\right)\cdot\text{d}\boldsymbol{l} = \sum I_0</script><p>令</p><script type="math/tex; mode=display">\boldsymbol{H} = \frac{\boldsymbol{B}}{\mu_0} - \boldsymbol{M}</script><p>有磁介质中的静磁场安培环路定理</p><script type="math/tex; mode=display">\oint_L \boldsymbol{H}\cdot\text{d}\boldsymbol{l} = \sum I_0</script><h4 id="介质的磁化规律"><a href="#介质的磁化规律" class="headerlink" title="介质的磁化规律"></a>介质的磁化规律</h4><script type="math/tex; mode=display">\boldsymbol{M} = \chi _m \boldsymbol{H}</script><p>其中$\chi_m$为磁化率。</p><script type="math/tex; mode=display">\boldsymbol{B}=\mu_0(\boldsymbol{H}+\boldsymbol{M}) = \mu_0(1+\chi_m)\boldsymbol{H} = \mu\boldsymbol{H}</script><p>$\mu = \mu_0(1+\chi_m)$为绝对磁导率。</p><p>$\mu_r = \mu / \mu_0=  1+\chi_m$为相对磁导率</p><p>线性各向同性介质中，$\chi_m$为常数。</p><h4 id="磁场在磁介质界面上的边值关系"><a href="#磁场在磁介质界面上的边值关系" class="headerlink" title="磁场在磁介质界面上的边值关系"></a>磁场在磁介质界面上的边值关系</h4><p>分界面处$\boldsymbol{B}$法向连续</p><p>取圆柱面使用高斯定理即可。侧面的高度趋近于0，则法向大小相抵消，连续。</p><p>分界面的磁化电流，可以使用安培环路定理</p><script type="math/tex; mode=display">\boldsymbol{i}^{'} = (\boldsymbol{M}_1 - \boldsymbol{M}_2) \times \boldsymbol{n}</script><p>方向参考右手系。</p><p>分界面的传导电流，使用安培环路定理</p><script type="math/tex; mode=display">\boldsymbol{i}_{0} = (\boldsymbol{H}_1 - \boldsymbol{H}_2) \times \boldsymbol{n}</script><p>如果没有传导电流的话，磁场强度在界面切向连续。</p><script type="math/tex; mode=display">H_{\tau 1} = H_{\tau 2}</script><h4 id="界面磁感应线的折射定理"><a href="#界面磁感应线的折射定理" class="headerlink" title="界面磁感应线的折射定理"></a>界面磁感应线的折射定理</h4><p>B线和H线均有对应的折射性质。</p><script type="math/tex; mode=display">\left\{\begin{aligned}B_{2n} &= B_{1n} \\H_{2\tau} &= H_{1\tau} \\B &= \mu H\end{aligned}\right.</script><p>推导出</p><script type="math/tex; mode=display">\left\{\begin{aligned}B_{2\tau} &= \frac{\mu_2}{\mu_1}B_{1\tau} \\H_{2n} &= \frac{\mu_2}{\mu_1}H_{1n}\end{aligned}\right.</script><p>然后折射性便能很简单得到了。</p><script type="math/tex; mode=display">\frac{\tan \theta_1}{\tan \theta_2} = \frac{\mu_1}{\mu_2}</script><p>角度对应关系自己推导一下。</p><h4 id="介质表面与磁感应线重合"><a href="#介质表面与磁感应线重合" class="headerlink" title="介质表面与磁感应线重合"></a>介质表面与磁感应线重合</h4><p>这时候考虑切向的量。正好H有切向的分量关系。H线无视介质，先求H，传导电流。</p><p>有一个奇怪的式子</p><script type="math/tex; mode=display">M_1 - M_2 = (B_1/\mu_0 - H) - (B_2/\mu_0-H) = (B_1-B_2)/\mu_0</script><p>乍一看，好像搞错成了$M=B/\mu_0$。但其实，$M=B/\mu_0-H$，这里消去了相同的H。</p><h4 id="介质表面与磁感应线垂直"><a href="#介质表面与磁感应线垂直" class="headerlink" title="介质表面与磁感应线垂直"></a>介质表面与磁感应线垂直</h4><p>B线无视介质。<br><strong>认为磁感应线是规律的！</strong> 不然不能做题了。</p><p>由于磁化强度与界面垂直，而且连续，界面没有磁化面电流。</p><p>这种情况就不用考虑磁化电流了吗？不是的，在其他有磁化强度的地方依然会产生磁化面电流。满足条件即会产生。</p><p>题目中给出的”通过电缆的电流强度”是传导电流。考虑定义即可知道原因。</p><p>传导电流的作用是传导，因此它是”通过电缆的电流”。磁化电流并不会通过电缆，不伴随电荷移动。</p><p>因此解题方法方法为</p><script type="math/tex; mode=display">\sum \oint_L \frac{\boldsymbol{B}}{\mu_i}\cdot\text{d}\boldsymbol{l} = \sum I</script><p>得到$\boldsymbol{B}$，无视介质。</p><p>然后得到H，M。根据定义得到磁化面电流和传导面电流。</p><p>这时候你忽然发现你又求到了传导面电流。它们一样吗？积分出来其实是一样的。</p><p>综上，总是可以利用$H=B/\mu_0-M$和$M=\chi_mH$,$B=\mu H$的关系进行计算。</p><p>题目给出的电流是传导电流，给出的电荷是总电荷。这是电学和磁学的不同之处。</p><h3 id="磁性材料-1"><a href="#磁性材料-1" class="headerlink" title="磁性材料"></a>磁性材料</h3><h4 id="磁化规律"><a href="#磁化规律" class="headerlink" title="磁化规律"></a>磁化规律</h4><p>顺磁材料$\chi_m &gt; 0, \mu_r &gt; 1,\chi_m = 10^{-4}\sim 10^{-5}$，弱磁性<br>抗磁材料$\chi_m &lt; 0, \mu_r &lt; 1,-\chi_m = 10^{-5}\sim 10^{-7}$，弱磁性<br>铁磁材料$\chi_m \gg 0, \mu_r \gg 1, \chi_m = 10^{3}\sim 10^{6}$，强磁性</p><h4 id="顺磁材料的磁化机制"><a href="#顺磁材料的磁化机制" class="headerlink" title="顺磁材料的磁化机制"></a>顺磁材料的磁化机制</h4><script type="math/tex; mode=display">\chi_m = \frac{b}{T} \propto\frac{1}{T}</script><h4 id="抗磁材料的磁化规律"><a href="#抗磁材料的磁化规律" class="headerlink" title="抗磁材料的磁化规律"></a>抗磁材料的磁化规律</h4><script type="math/tex; mode=display">\chi_m = -\frac{\mu_0n_0Ze^2\left<r^2\right>}{6m_e}</script><p>抗磁的本质是由轨道电子在外磁场中产生的<strong>附加磁矩</strong>造成的，而附加磁矩比轨道磁矩和自旋磁矩小得多，因此顺磁介质中抗磁效应也存在，但是远小于顺磁效应。</p><h4 id="贴磁介质"><a href="#贴磁介质" class="headerlink" title="贴磁介质"></a>贴磁介质</h4><script type="math/tex; mode=display">\chi_m = \chi_m(\boldsymbol{H})</script><p>M的值和H间的函数关系复杂，而且取决于磁化的历史。</p><p>外界环境改变的是H，通过材料的B，展现出M的大小，<br>因此可以通过B-H曲线表示磁化性质，即磁滞回线。</p><p>软磁材料，硬磁材料，矩磁材料，看PPT</p><h4 id="铁磁材料的居里温度"><a href="#铁磁材料的居里温度" class="headerlink" title="铁磁材料的居里温度"></a>铁磁材料的居里温度</h4><script type="math/tex; mode=display">\chi_m = \frac{c}{T-T_c}</script><h3 id="磁路定理与磁屏蔽"><a href="#磁路定理与磁屏蔽" class="headerlink" title="磁路定理与磁屏蔽"></a>磁路定理与磁屏蔽</h3><p>约束在磁心范围内的磁场叫做磁路。</p><p>磁路与电路的对比看PPT249页。</p><div class="table-container"><table><thead><tr><th>电路</th><th>磁路</th></tr></thead><tbody><tr><td>$\displaystyle\newcommand{\oiint}{\subset\kern{-3pt}\supset\kern{-16.5pt}\iint}\oiint \boldsymbol{j}\cdot\text{d}\boldsymbol{S}=0$</td><td>$\displaystyle\oiint \boldsymbol{B}\cdot\text{d}\boldsymbol{S}=0$</td></tr><tr><td>$I = \boldsymbol{j} \cdot\boldsymbol{S}=\text{const}$</td><td>$\Phi = \boldsymbol{B}\cdot\boldsymbol{S}=\text{const}$</td></tr><tr><td>$\boldsymbol{j} = \sigma \boldsymbol{E}$</td><td>$\boldsymbol{B} = \mu\boldsymbol{H}$</td></tr><tr><td>$R=\displaystyle\int\frac{\text{d}l}{\sigma S}$</td><td>$R_m = \displaystyle\int \frac{\text{d}l}{\mu S}$</td></tr><tr><td>$U=\displaystyle \int \boldsymbol{E}\cdot\text{d}\boldsymbol{l}=IR$</td><td>$U_m = \displaystyle\int\boldsymbol{H}\cdot{\text{d}\boldsymbol{l}}{} = \Phi R_m$</td></tr></tbody></table></div><h4 id="磁阻"><a href="#磁阻" class="headerlink" title="磁阻"></a>磁阻</h4><script type="math/tex; mode=display">R_m = \int \frac{\text{d}l}{\mu S}</script><p>PAGE 250</p><h4 id="磁路定理"><a href="#磁路定理" class="headerlink" title="磁路定理"></a>磁路定理</h4><ol><li>沿磁力线管的磁通量$\Phi$是常量.</li><li>磁通与该段磁路的磁阻之积等于磁势降。</li></ol><script type="math/tex; mode=display">\int \boldsymbol{H}\cdot\text{d}\boldsymbol{l} = \int \frac{\boldsymbol{B}}{\mu}\cdot \text{d}\boldsymbol{l} = \int \frac{\Phi}{\mu S}\text{d}l = \Phi R_m = U_m</script><p>即</p><script type="math/tex; mode=display">U_m = \Phi R_m</script><p>此即磁路定理</p><h4 id="磁路"><a href="#磁路" class="headerlink" title="磁路"></a>磁路</h4><p>也有KVL：</p><script type="math/tex; mode=display">\varepsilon_m = \Phi(R_m + r_m)</script><h4 id="理想磁路的条件"><a href="#理想磁路的条件" class="headerlink" title="理想磁路的条件"></a>理想磁路的条件</h4><p>闭合铁芯的磁导率远远大于$\mu_0$</p><h4 id="磁路的基尔霍夫定律"><a href="#磁路的基尔霍夫定律" class="headerlink" title="磁路的基尔霍夫定律"></a>磁路的基尔霍夫定律</h4><ol><li><p>对于磁路磁通量守恒，流入结点的磁通等于流出结点的磁通。</p><script type="math/tex; mode=display">\sum \Phi_i = 0</script></li><li><p>沿回路的磁势降之和等于线圈提供的磁动势之和，即</p><script type="math/tex; mode=display">\sum \varepsilon_m = \sum \Phi R_m</script></li></ol><p>$\varepsilon$的方向按照右手定则。与回路绕行方向相同取正，反之取负。<br>$\Phi$的方向与回路绕行方向相同取正，反之取负。</p><h4 id="磁路做题"><a href="#磁路做题" class="headerlink" title="磁路做题"></a>磁路做题</h4><p>磁动势取$NI$即可。<br>气隙当作磁导率为$\mu_0$的磁路。<br>磁路中不存在”导线”，所有部分都是磁阻。<br>磁通中的$S$和磁阻中的$S$消去了，可以只写$B$。</p><p>示例如下</p><script type="math/tex; mode=display">B(\frac{l}{\mu_r\mu_0}+\frac{l_0}{\mu_0}) = NI</script><h4 id="电磁铁"><a href="#电磁铁" class="headerlink" title="电磁铁"></a>电磁铁</h4><p>气隙截面积为$S_0$，气隙中磁感应强度为$B_0$。气隙宽度可以忽略时，如下。</p><p>直流电磁铁吸力</p><script type="math/tex; mode=display">F = \frac{B_0^2 S_0}{2\mu_0}</script><p>交流电磁铁吸力</p><script type="math/tex; mode=display">F = \frac{B_0^2 S_0}{2\mu_0}\sin^2\omega t</script><p>平均吸力</p><script type="math/tex; mode=display">\bar{F} = \frac{B_0^2 S_0}{4\mu_0}</script><h4 id="磁屏蔽"><a href="#磁屏蔽" class="headerlink" title="磁屏蔽"></a>磁屏蔽</h4><p>屏蔽系数定义为腔内场强$H_1$，与腔外场强$H_0$的比值</p><script type="math/tex; mode=display">K=\frac{H_1}{H_0}</script><p>使用球壳屏蔽时，材料磁导率为$\mu_r$，有关系</p><script type="math/tex; mode=display">K=\frac{2}{\mu_r(1-(R_1/R_2)^2)}</script><h2 id="电磁感应与磁场能量"><a href="#电磁感应与磁场能量" class="headerlink" title="电磁感应与磁场能量"></a>电磁感应与磁场能量</h2><h3 id="电磁感应定律，动生与感生"><a href="#电磁感应定律，动生与感生" class="headerlink" title="电磁感应定律，动生与感生"></a>电磁感应定律，动生与感生</h3><h4 id="法拉第电磁感应定律"><a href="#法拉第电磁感应定律" class="headerlink" title="法拉第电磁感应定律"></a>法拉第电磁感应定律</h4><script type="math/tex; mode=display">\varepsilon = -\frac{\text{d}\Phi}{\text{d}t}</script><p>1.多匝线圈</p><script type="math/tex; mode=display">\varepsilon =  -\frac{\text{d}\Psi}{\text{d}t} = -\sum \frac{\text{d}\Phi_i}{\text{d}t}</script><p>若各匝线圈磁通量相同</p><script type="math/tex; mode=display">\varepsilon =  -\frac{\text{d}\Psi}{\text{d}t} = - N \frac{\text{d}\Phi}{\text{d}t}</script><ol><li>在回路中产生感应电动势的原因是通过回路平面的磁通量的变化，而不是磁通量本身。</li></ol><script type="math/tex; mode=display">\varepsilon = -\frac{\text{d}\Phi}{\text{d}t}= -\frac{\text{d}(BS\cos \theta)}{\text{d}t} = -S\cos\theta\frac{\text{d}B}{\text{d}t} -B\cos\theta\frac{\text{d}S}{\text{d}t} + BS\sin \theta\frac{\text{d}\theta}{\text{d}t}</script><p>三种引起磁通量变化的原因：磁感应强度随时间的变化，回路的面积的变化，回路与磁感应强度的夹角的变化。</p><ol><li>符号指明了感应电动势的方向。</li></ol><h4 id="楞次定律"><a href="#楞次定律" class="headerlink" title="楞次定律"></a>楞次定律</h4><p>由 感应电动势引起的感应电流 所产生的磁场 通过回路的磁通量 总是阻碍 引起感应电流的磁通量 的变化。</p><p>由感应电动势引起的感应电流所产生的磁场通过回路的磁通量总是阻碍引起感应电流的磁通量的变化。</p><p>这句话不能速读。</p><p>当导体在磁场中运动时，导体中由于出现感应电流而收到的磁场力必然阻碍此导体的运动。</p><p>楞次定律的实质是能量守恒定律。</p><h4 id="动生电动势"><a href="#动生电动势" class="headerlink" title="动生电动势"></a>动生电动势</h4><p>首先由高级的微积分技术得到</p><script type="math/tex; mode=display">\frac{\text{d}\boldsymbol{B}}{\text{d}t} = \frac{\partial \boldsymbol{B}}{\partial t} + \nabla \times(\boldsymbol{B}\times\boldsymbol{v})</script><p>v是什么鬼？这里是指选取的测量点的速度。如果测量点静止，那么自然只与时间有关。如果测量点在移动，正好磁场也是空间的函数。</p><p>动生电动势情况下，$\displaystyle\frac{\partial \boldsymbol{B}}{\partial t} =0$</p><p>所以</p><script type="math/tex; mode=display">\varepsilon = -\iint_S\frac{\text{d}\boldsymbol{B}}{\text{d}t}\cdot\text{d}\boldsymbol{S} = -\iint_S\nabla\times(\boldsymbol{B}\times\boldsymbol{v})\cdot\text{d}\boldsymbol{S}</script><p>即</p><script type="math/tex; mode=display">\varepsilon = \oint(\boldsymbol{v}\times\boldsymbol{B})\cdot\text{d}\boldsymbol{l}</script><p>任意导体棒的感应电动势都可以使用如下公式求解</p><script type="math/tex; mode=display">\varepsilon = \int_A^B (\boldsymbol{v}\times\boldsymbol{B})\cdot\text{d}\boldsymbol{l}</script><p>直导体可以使用</p><script type="math/tex; mode=display">\varepsilon = vBL</script><h4 id="恒定磁场"><a href="#恒定磁场" class="headerlink" title="恒定磁场"></a>恒定磁场</h4><p>恒定磁场不一定是均匀磁场</p><p>!! !!!!!!!!!!  错了一次</p><h4 id="感生电动势"><a href="#感生电动势" class="headerlink" title="感生电动势"></a>感生电动势</h4><p>磁场随时间变化时，在空间激发了新的电场，导体中的载流子在这个电场的作用下，在闭合回路中产生了感应电流。</p><p>变化的磁场激发涡旋电场，涡旋电场产生感应电动势。</p><p>对涡旋电场，</p><script type="math/tex; mode=display">\varepsilon = \oint_L\boldsymbol{E}_{\text{旋}}\cdot\text{d}\boldsymbol{l} = -\frac{\text{d}}{\text{d}t}\iint_S\boldsymbol{B}\cdot\text{d}\boldsymbol{S} = -\iint_S\frac{\partial \boldsymbol{B}}{\partial t}\cdot\text{d}\boldsymbol{S}</script><p>时变磁场在周围空间激发涡旋电场，是非保守立场，即无势场。</p><script type="math/tex; mode=display">\nabla\times \boldsymbol{E} = -\frac{\partial \boldsymbol{B}}{\partial t}</script><h4 id="磁矢势"><a href="#磁矢势" class="headerlink" title="磁矢势"></a>磁矢势</h4><script type="math/tex; mode=display">\boldsymbol{B} = \nabla\times\boldsymbol{A}</script><p>其中的$\boldsymbol{A}$就是磁矢势。</p><p>可以根据毕奥-萨法尔定理推导出来</p><script type="math/tex; mode=display">\boldsymbol{A}=\frac{\mu_0}{4\pi}\oint_L\frac{I\text{d}\boldsymbol{l}}{r}</script><p>所有有$B$的地方都可以带入$A$</p><script type="math/tex; mode=display">\boldsymbol{E}_{\text{旋}} = -\frac{\partial \boldsymbol{A}}{\partial t}</script><script type="math/tex; mode=display">\Phi = \oint_L \boldsymbol{A}\cdot\text{d}\boldsymbol{l}</script><p>这时候可以回顾电场的公式</p><script type="math/tex; mode=display">\boldsymbol{E} = -\nabla U - \frac{\partial \boldsymbol{A}}{\partial t}</script><p>左为库伦电场，右为涡旋电场</p><p>PAGE 309</p><p>记得复习马原精简版</p><h4 id="涡旋电场的验证与应用"><a href="#涡旋电场的验证与应用" class="headerlink" title="涡旋电场的验证与应用"></a>涡旋电场的验证与应用</h4><p>涡电流</p><p>金属中载流子在涡旋电场作用下运动产生的电流。</p><p>感应加热</p><p>金属的电阻很小，不大的感应电动势便能产生较强的涡电流，在金属中产生大量的焦耳热。</p><p>电磁阻尼</p><p>楞次定律</p><p>PPT309</p><p>焦耳热损耗</p><p>高电阻材料，如硅钢(钢材料中加入硅)，不影响导磁性</p><p>多层绝缘片叠加而成，减少涡电流的导体横截面积</p><p>趋肤效应</p><p>交变电流靠近导表面处。</p><p>趋肤效应的结果使电流传输的有效横截面积减少，电阻增加，导体表面温度高。</p><h3 id="互感和自感"><a href="#互感和自感" class="headerlink" title="互感和自感"></a>互感和自感</h3><p>当一个线圈中的电流发生变化时，将在周围空间中产生变化的磁场，从而在它附近的另一个线圈中产生感应电动势，这种现象称为互感现象。</p><p>有</p><script type="math/tex; mode=display">\Psi_{21} = M_{21}I_1</script><script type="math/tex; mode=display">\Psi_{12} = M_{12}I_2</script><p>可以证明</p><script type="math/tex; mode=display">M_{12} = M_{21} = M</script><p>PAGE 319</p><p>可以推导出来公式</p><script type="math/tex; mode=display">M_{ij} = \frac{\mu_0}{4\pi}\oint_{L_i}\oint_{L_{j}}\frac{\text{d}\boldsymbol{l}_i\cdot\text{d}\boldsymbol{l}_j}{r_{ij}}</script><p>推导使用的公式为</p><script type="math/tex; mode=display">\Psi = \oint_L\boldsymbol{A}\cdot\text{d}\boldsymbol{l}</script><p>和</p><script type="math/tex; mode=display">M_{21}=\frac{\Psi_{21}}{I_1}</script><h4 id="互感电动势"><a href="#互感电动势" class="headerlink" title="互感电动势"></a>互感电动势</h4><p>$I_1$变化激发空间磁场引起线圈2中的感应电动势为</p><script type="math/tex; mode=display">\varepsilon_2 = -\frac{\text{d}\Psi_{21}}{\text{d}t} = -M\frac{\text{d}I_1}{\text{d}t}</script><p>$I_2$变化激发空间磁场引起线圈1中的感应电动势为</p><script type="math/tex; mode=display">\varepsilon_1 = -\frac{\text{d}\Psi_{12}}{\text{d}t} = -M\frac{\text{d}I_2}{\text{d}t}</script><h4 id="互感系数的计算方法"><a href="#互感系数的计算方法" class="headerlink" title="互感系数的计算方法"></a>互感系数的计算方法</h4><p>先假设电流，再计算磁通，利用$M=\Psi/I$求得。</p><h4 id="重叠螺线管的互感系数"><a href="#重叠螺线管的互感系数" class="headerlink" title="重叠螺线管的互感系数"></a>重叠螺线管的互感系数</h4><script type="math/tex; mode=display">M=\mu_0n_1n_2V</script><p>推导过程：</p><script type="math/tex; mode=display">B_1 = \mu_0n_1I_1</script><script type="math/tex; mode=display">\Phi_{21} = N_2B_1S = \mu_0n_1n_2SlI_1 = \mu_0n_1n_2VI_1</script><script type="math/tex; mode=display">M = \Phi_{21}/I_1 = \mu_0n_1n_2V</script><h4 id="自感现象"><a href="#自感现象" class="headerlink" title="自感现象"></a>自感现象</h4><p>当一个线圈中的电流发生变化时，它所激发的磁场穿过每匝线圈自身平面的磁通量也随之发生变化，从而使线圈产生感应电动势。<br>这种因线圈中的电流发生变化而在线圈自身中产生感应电动势的情况，称为自感应现象。所产生的感应电动势称为自感电动势。</p><p>根据楞次定律，线圈产生的自感电动势总是反抗电流变化的。可以称之为<em>电惯性</em>。</p><h4 id="自感系数"><a href="#自感系数" class="headerlink" title="自感系数"></a>自感系数</h4><p>穿过线圈的总磁通$\Psi$与电流$I$成正比</p><script type="math/tex; mode=display">\Psi = LI</script><p>$L$称之为自感系数，简称自感，又叫电磁惯量。之和线圈回路几何形状和介质特性有关。单位与互感相同</p><p>当电流随时间变化时，在线圈中产生的自感电动势为</p><script type="math/tex; mode=display">\varepsilon = -\frac{\text{d}\Psi}{\text{d}t} =-L\frac{\text{d}I}{\text{d}t}</script><h4 id="自感系数的计算"><a href="#自感系数的计算" class="headerlink" title="自感系数的计算"></a>自感系数的计算</h4><script type="math/tex; mode=display">L=\frac{\Psi}{I} = -\varepsilon/\frac{\text{d}I}{\text{d}t} = \frac{2W_m}{I^2}</script><p>例如理想螺线管的自感系数</p><script type="math/tex; mode=display">\Phi = NBS = NS\mu_0nI</script><script type="math/tex; mode=display">L=\Psi/I=NS\mu_0n = \mu_0n^2V</script><p>这里利用了$N=nl$</p><h4 id="利用磁通求自感的电流交链问题"><a href="#利用磁通求自感的电流交链问题" class="headerlink" title="利用磁通求自感的电流交链问题"></a>利用磁通求自感的电流交链问题</h4><p>根据定义</p><script type="math/tex; mode=display">L=\frac{\Psi}{I}</script><p>在利用磁通分析自感问题时，应当注意磁感应线未圈围全部电流的情形。</p><p>有粗细的导线，看作电流$I$均匀在圆柱体内流动，则不同磁感应线将交链不同的电流$I^{‘}$，因此在算磁通时，应计算有效的磁通$\text{d}\Psi$，称为磁通匝链数；圈围的电流所占的份额$I/I^{‘}$，称为分数匝数</p><p>PAGE 332</p><p>一般外部磁场为零。</p><p>还是看不懂。我太菜了。<br>PAGE335</p><h4 id="电感的串并联"><a href="#电感的串并联" class="headerlink" title="电感的串并联"></a>电感的串并联</h4><p>同名端异名端：</p><p>电流从<strong>同名端</strong>流入时，同一线圈的自感磁通和互感磁通同相。</p><h4 id="串联线圈的自感"><a href="#串联线圈的自感" class="headerlink" title="串联线圈的自感"></a>串联线圈的自感</h4><p>顺接：电流从同名端流入<br>反接：电流从异名端流入</p><p>顺接时，</p><script type="math/tex; mode=display">L = L_1 + L_2 + 2M</script><p>推导：</p><script type="math/tex; mode=display">\varepsilon_1 = -(L_1\frac{\text{d}I}{\text{d}t} + M\frac{\text{d}I}{\text{d}t}) = -(L_1+M)\frac{\text{d}I}{\text{d}t}</script><script type="math/tex; mode=display">\varepsilon_2 = -(M\frac{\text{d}I}{\text{d}t} + L_2\frac{\text{d}I}{\text{d}t}) = -(L_2+M)\frac{\text{d}I}{\text{d}t}</script><p>反接：</p><script type="math/tex; mode=display">L=L_1+L_2-2M</script><p>$L&gt;0$即$L_1+L_2 &gt; 2M$</p><h4 id="电感线圈的并联"><a href="#电感线圈的并联" class="headerlink" title="电感线圈的并联"></a>电感线圈的并联</h4><p>同名端并联</p><script type="math/tex; mode=display">L=\frac{L_1L_2-M^2}{L_1+L_2-2M}</script><p>推导：</p><script type="math/tex; mode=display">\left\{\begin{aligned}\varepsilon &= -(L_1\frac{\text{d}I_1}{\text{d}t} + M\frac{\text{d}I_2}{\text{d}t}) = -(L_2\frac{\text{d}I_2}{\text{d}t} + M\frac{\text{d}I_1}{\text{d}t}) \\\frac{\text{d}I}{\text{d}t} &= \frac{\text{d}I_1}{\text{d}t} + \frac{\text{d}I_2}{\text{d}t}\\\end{aligned}\right.</script><p>异名端：</p><script type="math/tex; mode=display">L=\frac{L_1L_2-M^2}{L_1+L_2+2M}</script><h4 id="自感系数和互感系数的关系"><a href="#自感系数和互感系数的关系" class="headerlink" title="自感系数和互感系数的关系"></a>自感系数和互感系数的关系</h4><script type="math/tex; mode=display">M\leq \sqrt{L_1L_2}</script><p>即令</p><script type="math/tex; mode=display">M=k\sqrt{L_1L_2},0\leq k\leq1</script><p>$k$为耦合系数。</p><h3 id="似稳电路和暂态过程"><a href="#似稳电路和暂态过程" class="headerlink" title="似稳电路和暂态过程"></a>似稳电路和暂态过程</h3><p>似稳电路的条件：电源随时间变化很慢，电路的尺度远小于光在这一周期内的移动距离</p><script type="math/tex; mode=display">\frac{1}{f} \gg \frac{l}{c}\rightarrow \lambda \equiv \frac{c}{f} \gg l</script><p>市电下，这一条件为6000km.</p><h4 id="似稳电路"><a href="#似稳电路" class="headerlink" title="似稳电路"></a>似稳电路</h4><script type="math/tex; mode=display">\boldsymbol{j} = \sigma \boldsymbol{E} = \sigma (\boldsymbol{E}_{\text{位}}+\boldsymbol{E}_{\text{旋}}+\boldsymbol{K})</script><p>因为引入了涡旋电场，对总电路的基尔霍夫定律不再成立。</p><script type="math/tex; mode=display">\oiint _S\boldsymbol{j}\cdot\text{d}\boldsymbol{S}\neq0,\oint_L\boldsymbol{E}\cdot\text{d}\boldsymbol{l}\neq0</script><p>但是对于$\boldsymbol{E}_{\text{位}}$，环路定理依然成立。</p><p>PPT PAGE 362</p><p>没看懂，做题吧</p><h4 id="似稳电路的基本方程"><a href="#似稳电路的基本方程" class="headerlink" title="似稳电路的基本方程"></a>似稳电路的基本方程</h4><script type="math/tex; mode=display">\varepsilon = iR+\frac{1}{C}\int i\text{d}t + \left(L\frac{\text{d}i}{\text{d}t}+M\frac{\text{d}i^{'}}{\text{d}t}\right)</script><p>注意：这里与电路理论得到的方程不同。具体细分如下</p><p>先前一直在使用的方程</p><script type="math/tex; mode=display">\varepsilon = -L\frac{\text{d}i}{\text{d}t}</script><p>其中的符号表示产生的感应电动势阻碍电流，不表示参考方向。而且这里的$\varepsilon$应当算在电动势里面，而不是等式右边。所以正确性和电路理论相吻合。</p><p>在进行分析的时候，建议使用电路理论的方程式</p><script type="math/tex; mode=display">\varepsilon = L\frac{\text{d}i}{\text{d}t}</script><p>并使用同一参考方向，减少犯错误的可能性。</p><p>接下来分析了RL，RC电路的暂态过程。看PPT366，写的很详细了。</p><p>这部分电路理论可以直接分析。不需要电磁学知识，反而容易出错呢。</p>]]></content>
    
    
    <categories>
      
      <category>学习</category>
      
      <category>物理</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
      <tag>课内复习</tag>
      
      <tag>物理</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>电磁学C复习-电学部分</title>
    <link href="/2022/01/18/%E7%94%B5%E7%A3%81%E5%AD%A6C%E5%A4%8D%E4%B9%A0-%E7%94%B5%E5%AD%A6%E9%83%A8%E5%88%86/"/>
    <url>/2022/01/18/%E7%94%B5%E7%A3%81%E5%AD%A6C%E5%A4%8D%E4%B9%A0-%E7%94%B5%E5%AD%A6%E9%83%A8%E5%88%86/</url>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文章是作者在学习电磁学时进行期中复习时做出的笔记。</p><span id="more"></span><h2 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h2><h3 id="电荷守恒定律"><a href="#电荷守恒定律" class="headerlink" title="电荷守恒定律"></a>电荷守恒定律</h3><script type="math/tex; mode=display">\newcommand{\oiint}{\subset\kern{-3pt}\supset\kern{-16.5pt}\iint}    \oiint_S \vec{j}\cdot\text{d}\vec{s} = -\frac{\partial}{\partial t} \iiint_V \rho \cdot \text{d}V</script><p>即</p><script type="math/tex; mode=display">    \nabla \cdot \vec{j} = -\frac{\partial \rho}{\partial t}</script><h3 id="库仑定律"><a href="#库仑定律" class="headerlink" title="库仑定律"></a>库仑定律</h3><p>$\vec{F}_{12}$为2对1的作用力，有</p><script type="math/tex; mode=display">    \vec{F}_{12} = k\frac{q_1q_2}{r_{12}^2}\vec{e_r}</script><p>同时满足牛顿第三定律</p><script type="math/tex; mode=display">    \vec{F}_{12} = -\vec{F}_{21}</script><p>其中</p><script type="math/tex; mode=display">    k = \frac{1}{4\pi \varepsilon_0}, \varepsilon_0 = 9\times 10^9 Nm^2/C^2</script><h3 id="矢量操作"><a href="#矢量操作" class="headerlink" title="矢量操作"></a>矢量操作</h3><h4 id="矢量分解"><a href="#矢量分解" class="headerlink" title="矢量分解"></a>矢量分解</h4><script type="math/tex; mode=display">\vec{A} = (\vec{A} \cdot \vec{n})\vec{n} + \vec{n} \times (\vec{A} \times \vec{n})</script><h4 id="运算方法"><a href="#运算方法" class="headerlink" title="运算方法"></a>运算方法</h4><script type="math/tex; mode=display">    \nabla = \vec{e}_x \frac{\partial}{\partial x} + \vec{e}_y \frac{\partial}{\partial y} + \vec{e}_z \frac{\partial}{\partial z}</script><h4 id="矢量微元"><a href="#矢量微元" class="headerlink" title="矢量微元"></a>矢量微元</h4><p>直角坐标系</p><script type="math/tex; mode=display">    \text{d} \vec{l} = \text{d} x\vec{x} + \text{d} y\vec{y}+ \text{d} z\vec{z}</script><script type="math/tex; mode=display">    \text{d} \vec{S}_x = \text{d} y \text{d} z \vec{x}</script><script type="math/tex; mode=display">    \text{d} \vec{S}_y = \text{d} z \text{d} x \vec{y}</script><script type="math/tex; mode=display">    \text{d} \vec{S}_z = \text{d} x \text{d} y \vec{z}</script><script type="math/tex; mode=display">\text{d} {V} = \text{d} x\text{d}y\text{d}z</script><p>柱坐标系</p><script type="math/tex; mode=display">    \text{d} \vec{l} = \text{d}r\vec{r} + r\text{d}\varphi\vec{\varphi} + \text{d} z\vec{z}</script><p>球坐标系</p><script type="math/tex; mode=display">    \text{d} \vec{l} = \text{d}R\vec{r} + R\text{d}\theta \vec{\theta} + R\sin \theta \text{d} \varphi \vec{\varphi}</script><h3 id="叠加原理"><a href="#叠加原理" class="headerlink" title="叠加原理"></a>叠加原理</h3><script type="math/tex; mode=display">F_i = \frac{1}{4\pi\varepsilon_0}q_i \sum_{j=1, i\neq i}^{N}\frac{q_j}{|\boldsymbol{r}-\boldsymbol{r_j}|^3}(\boldsymbol{r} - \boldsymbol{r_j})</script><h3 id="电荷密度"><a href="#电荷密度" class="headerlink" title="电荷密度"></a>电荷密度</h3><script type="math/tex; mode=display">\rho = \frac{\Delta q}{\Delta V}</script><script type="math/tex; mode=display">\sigma = \frac{\Delta q}{\Delta S}</script><script type="math/tex; mode=display">\lambda = \frac{\Delta q}{\Delta l}</script><h3 id="带电体之间的作用力"><a href="#带电体之间的作用力" class="headerlink" title="带电体之间的作用力"></a>带电体之间的作用力</h3><script type="math/tex; mode=display">F_{12} = \frac{1}{4\pi\varepsilon_0}\iiint_{V_1}\iiint_{V_2}\frac{\rho_1(\boldsymbol{r_1})\rho_2(\boldsymbol{r_2})}{|\boldsymbol{r_2} - \boldsymbol{r_1}|^3}(\boldsymbol{r_2} - \boldsymbol{r_1})\text{d}V_1\text{d}V_2</script><h3 id="电偶极子"><a href="#电偶极子" class="headerlink" title="电偶极子"></a>电偶极子</h3><p>电偶极矩$\boldsymbol{p}$，大小为$p=ql$，方向由负电荷指向正电荷。</p><p>设$\boldsymbol{n}$是$\boldsymbol{r}$方向的单位矢量，则有</p><script type="math/tex; mode=display">\vec{E} = \frac{1}{4\pi\varepsilon_0} \frac{3\vec{n}(\vec{p}\cdot\vec{n})-\vec{p}}{r^3}</script><h3 id="电通量"><a href="#电通量" class="headerlink" title="电通量"></a>电通量</h3><script type="math/tex; mode=display">\Delta \Phi = \vec{E}\cdot \Delta \vec{S}</script><script type="math/tex; mode=display">\Phi_E = \iint_S \vec{E}\cdot \text{d} \vec{S}</script><p>开曲面：凸侧一方的方向的外法线方向为正<br>闭曲面：外法线方向为正，内法线方向为负</p><p>电通量满足叠加原理，是标量。</p><h3 id="立体角"><a href="#立体角" class="headerlink" title="立体角"></a>立体角</h3><script type="math/tex; mode=display">\Omega = \frac{S_r}{r^2}</script><h3 id="静电场的高斯定理"><a href="#静电场的高斯定理" class="headerlink" title="静电场的高斯定理"></a>静电场的高斯定理</h3><script type="math/tex; mode=display">\oiint_S \vec{E}\cdot \text{d}\vec{S} = \frac{1}{\varepsilon_0}\sum^{N}_{i=1}q_i^{in}</script><p>对连续分布的电荷</p><script type="math/tex; mode=display">\oiint_S \vec{E}\cdot \text{d}\vec{S} =\frac{1}{\varepsilon_0}\iiint_V\rho \text{d} V</script><p>由数学公式推导得到</p><script type="math/tex; mode=display">\nabla \cdot \vec{E} = \frac{\rho}{\varepsilon_0}</script><h3 id="环量"><a href="#环量" class="headerlink" title="环量"></a>环量</h3><script type="math/tex; mode=display">\oint_L\boldsymbol \cdot \text{d}\boldsymbol{L}</script><h3 id="静电场的环路定理"><a href="#静电场的环路定理" class="headerlink" title="静电场的环路定理"></a>静电场的环路定理</h3><script type="math/tex; mode=display">\oint_L \vec{E}\cdot\text{d}\vec{l} = 0</script><p>由数学公式推导得到</p><script type="math/tex; mode=display">\nabla \times \vec{E} = 0</script><h3 id="电势能"><a href="#电势能" class="headerlink" title="电势能"></a>电势能</h3><script type="math/tex; mode=display">W_P = q_0 \int^{\infty}_P\vec{E}\cdot \text{d}\vec{l}</script><h3 id="电势差"><a href="#电势差" class="headerlink" title="电势差"></a>电势差</h3><script type="math/tex; mode=display">U_{PQ} = \int^{Q}_{P}\vec{E}\cdot\text{d}\vec{l}</script><h3 id="电势"><a href="#电势" class="headerlink" title="电势"></a>电势</h3><script type="math/tex; mode=display">U_P = \int^{\infty}_{P} \vec{E}\cdot\text{d}\vec{l}</script><p>电势满足叠加原理，电势是标量。</p><script type="math/tex; mode=display">U(\boldsymbol{r}) = \sum_{i}U_i(\boldsymbol{r}) = \frac{1}{4\pi\varepsilon_0}\sum_{i}\frac{q_i}{|\boldsymbol{r} - \boldsymbol{r}_i|}</script><h3 id="点电荷电势"><a href="#点电荷电势" class="headerlink" title="点电荷电势"></a>点电荷电势</h3><script type="math/tex; mode=display">U(r) = \frac{q}{4\pi\varepsilon_0 r}</script><h3 id="带电体电势"><a href="#带电体电势" class="headerlink" title="带电体电势"></a>带电体电势</h3><p>将$\displaystyle\frac{\text{d}q}{|\boldsymbol{r}-\boldsymbol{r}^{‘}|}$ 转化成体、面、线电荷元积分即可。</p><h3 id="电场强度和电势的关系"><a href="#电场强度和电势的关系" class="headerlink" title="电场强度和电势的关系"></a>电场强度和电势的关系</h3><script type="math/tex; mode=display">\vec{E} = -\nabla U</script><p>即</p><script type="math/tex; mode=display">E_x = -\frac{\partial U}{\partial x}, E_y = -\frac{\partial U}{\partial y}, E_z = -\frac{\partial U}{\partial z}</script><h3 id="泊松方程"><a href="#泊松方程" class="headerlink" title="泊松方程"></a>泊松方程</h3><script type="math/tex; mode=display">\nabla^2 U = -\frac{\rho}{\varepsilon_0}</script><h3 id="电偶极子电势分布和电场分布"><a href="#电偶极子电势分布和电场分布" class="headerlink" title="电偶极子电势分布和电场分布"></a>电偶极子电势分布和电场分布</h3><script type="math/tex; mode=display">U(\boldsymbol{r}) = \frac{1}{4\pi\varepsilon_0}\frac{\boldsymbol{p}\cdot\boldsymbol{r}}{r^3}</script><script type="math/tex; mode=display">E(\boldsymbol{r}) = -\frac{\boldsymbol{p}}{4\pi\varepsilon_0 r^3} + \frac{3(\boldsymbol{p}\cdot \boldsymbol{r})}{4\pi\varepsilon_0r^5}\boldsymbol{r}</script><h2 id="第二章"><a href="#第二章" class="headerlink" title="第二章"></a>第二章</h2><h3 id="电阻率"><a href="#电阻率" class="headerlink" title="电阻率"></a>电阻率</h3><script type="math/tex; mode=display">\rho = \frac{RS}{l}</script><h3 id="静电平衡"><a href="#静电平衡" class="headerlink" title="静电平衡"></a>静电平衡</h3><p>导体内部电场强度处处为零。</p><p>静电平衡时内部电荷按照指数衰减</p><script type="math/tex; mode=display">\rho(t) = \rho_0\text{e}^{-t/\tau}</script><h3 id="静电屏蔽"><a href="#静电屏蔽" class="headerlink" title="静电屏蔽"></a>静电屏蔽</h3><p>腔外不影响腔内，腔内影响腔外。对地接空腔，内外不影响。</p><h3 id="电荷系统在静电场中的受力问题"><a href="#电荷系统在静电场中的受力问题" class="headerlink" title="电荷系统在静电场中的受力问题"></a>电荷系统在静电场中的受力问题</h3><p>$E=E_t-E_1$，分别为外场，总电场，和受力带电体的电场。</p><p>体电荷$E_1(r) = \rho_e r/(3\varepsilon_0) \rightarrow 0$<br>面电荷$E_1 = \pm \sigma_e / (2\varepsilon_0)$<br>线电荷$E_1 = \lambda_e / (2\pi\varepsilon_0 r) \rightarrow \infty$</p><h3 id="电偶极子在外电场中的受力问题"><a href="#电偶极子在外电场中的受力问题" class="headerlink" title="电偶极子在外电场中的受力问题"></a>电偶极子在外电场中的受力问题</h3><script type="math/tex; mode=display">\boldsymbol{F} = (\boldsymbol{p}\cdot \nabla)\boldsymbol{E}(\boldsymbol{r})</script><p>力矩参考点为电偶极子中点</p><script type="math/tex; mode=display">\boldsymbol{L} = \boldsymbol{p}\times \boldsymbol{E}</script><h3 id="常见电容器"><a href="#常见电容器" class="headerlink" title="常见电容器"></a>常见电容器</h3><p>球体电容器</p><script type="math/tex; mode=display">C = 4\pi\varepsilon_0R</script><p>平行板电容器</p><script type="math/tex; mode=display">C=\varepsilon_0S/d</script><p>球形电容器</p><script type="math/tex; mode=display">C=4\pi\varepsilon_0\frac{R_AR_B}{R_B-R_A}</script><p>同轴圆柱形电容器</p><script type="math/tex; mode=display">C=\frac{2\pi\varepsilon_0L}{\ln R_B/R_A}</script><h3 id="极化强度矢量"><a href="#极化强度矢量" class="headerlink" title="极化强度矢量"></a>极化强度矢量</h3><p>Definition: 单位体积内分子电偶极矩矢量和</p><script type="math/tex; mode=display">\vec{P} = \lim_{\Delta V\rightarrow 0}\frac{\sum \vec{p}_i}{\Delta V}</script><p>平衡时有</p><script type="math/tex; mode=display">\vec{E} = \vec{E}_0 + \vec{E}^{'}</script><h3 id="电荷的分布情况"><a href="#电荷的分布情况" class="headerlink" title="电荷的分布情况"></a>电荷的分布情况</h3><p>极化电荷</p><script type="math/tex; mode=display">\nabla \cdot \boldsymbol{P} = -\rho^{'}</script><p>边界上</p><script type="math/tex; mode=display">\sigma ^{'} = -(\boldsymbol{P}_2 - \boldsymbol{P}_1) \cdot \boldsymbol{n}</script><h3 id="极化强度与电场的关系"><a href="#极化强度与电场的关系" class="headerlink" title="极化强度与电场的关系"></a>极化强度与电场的关系</h3><p>各向同性电介质中</p><script type="math/tex; mode=display">\boldsymbol{P} = \chi_e\varepsilon_0\boldsymbol{E}</script><p>$\chi_e$为电极化率，$\boldsymbol{E}$为极化后的总电场。</p><script type="math/tex; mode=display">\varepsilon_r \equiv 1 + \chi_e</script><h3 id="电介质中静电场高斯定理"><a href="#电介质中静电场高斯定理" class="headerlink" title="电介质中静电场高斯定理"></a>电介质中静电场高斯定理</h3><p>定义电位移矢量</p><script type="math/tex; mode=display">\boldsymbol{D} = \varepsilon_0\boldsymbol{E} + \boldsymbol{P}</script><p>则有</p><script type="math/tex; mode=display">\oiint_S \boldsymbol{D} \cdot \text{d}\boldsymbol{S} = \sum_{S}q_0</script><p>而且</p><script type="math/tex; mode=display">\boldsymbol{D} = \varepsilon_0\boldsymbol{E} + \boldsymbol{P} = \varepsilon_0\boldsymbol{E} + \chi_e\varepsilon_0\boldsymbol{E} = \varepsilon_r\varepsilon_0\boldsymbol{E} = \varepsilon\boldsymbol{E}</script><p>写成连续形式也可以，将$q_0$换成$\iiint_V \rho_0\text{d}V$即可。</p><p>同时有微分形式</p><script type="math/tex; mode=display">\nabla \cdot \boldsymbol{D} = \rho_0</script><p>介质中静电场仍然是一个无旋的保守场。</p><p>交界面无自由电荷，D线连续，E线通常不连续。</p><h3 id="电介质交界面上的物理量"><a href="#电介质交界面上的物理量" class="headerlink" title="电介质交界面上的物理量"></a>电介质交界面上的物理量</h3><p>交界面上的电场强度切向分量总是相等的。</p><p>交界面上的电位移矢量有如下关系</p><script type="math/tex; mode=display">D_{2n} - D_{1n} = \sigma_0</script><p>无自由电荷时，交界面的电位移矢量连续。</p><p>即</p><script type="math/tex; mode=display">(\boldsymbol{D}_2 - \boldsymbol{D}_1)\cdot \boldsymbol{n} = \sigma_0</script><script type="math/tex; mode=display">(\boldsymbol{P}_1 - \boldsymbol{P}_2)\cdot \boldsymbol{n} = \sigma^{'}</script><script type="math/tex; mode=display">(\boldsymbol{E}_2 - \boldsymbol{E}_1)\cdot \boldsymbol{n} = \sigma/\varepsilon_0</script><p>交界面上的电势总是连续的。</p><h3 id="介质中静电场基本方程"><a href="#介质中静电场基本方程" class="headerlink" title="介质中静电场基本方程"></a>介质中静电场基本方程</h3><p>高斯定理</p><script type="math/tex; mode=display">\oiint_S\vec{D}\cdot\text{d}\vec{S} = \sum_Sq_0</script><p>本构方程</p><script type="math/tex; mode=display">\vec{D} = \varepsilon_r\varepsilon_0\vec{E}</script><p>环路定理</p><script type="math/tex; mode=display">\oint_L\vec{E}\cdot\text{d}\vec{l}= 0</script><p>边值条件，上一节</p><h4 id="介质界面与电场线重合"><a href="#介质界面与电场线重合" class="headerlink" title="介质界面与电场线重合"></a>介质界面与电场线重合</h4><p>电场强度连续</p><h4 id="介质表面与等势面重合"><a href="#介质表面与等势面重合" class="headerlink" title="介质表面与等势面重合"></a>介质表面与等势面重合</h4><p>电位移矢量连续，且相当于真空中的情况，即</p><script type="math/tex; mode=display">\boldsymbol{D} = \varepsilon_r\varepsilon_0\boldsymbol{E} =  \varepsilon_0\boldsymbol{E}_0</script><p>第二个等号由连续性得到，相当于延伸到真空的情况。</p><h3 id="电场的能量"><a href="#电场的能量" class="headerlink" title="电场的能量"></a>电场的能量</h3><p>N个点电荷体系</p><script type="math/tex; mode=display">W_{\text{互}} = \frac{1}{2}\sum_{i=1}^{N}W_i = \frac{1}{2}\sum_{i=1}^{N}q_iU_i</script><p>其中</p><script type="math/tex; mode=display">U_i = \sum_{j=1,i\neq j}^{N}U_{ji} = \frac{1}{4\pi\varepsilon_0}\sum_{j =1, i\neq j}^{N}\frac{q_j}{r_{ij}}</script><p>一个点电荷的电势能为</p><script type="math/tex; mode=display">W_i = q_iU_i</script><h3 id="体电荷分布自能"><a href="#体电荷分布自能" class="headerlink" title="体电荷分布自能"></a>体电荷分布自能</h3><script type="math/tex; mode=display">W_e = \frac{1}{2}\iiint_V\rho(\boldsymbol{r})U(\boldsymbol{r})\text{d}V</script><h3 id="面电荷分布自能"><a href="#面电荷分布自能" class="headerlink" title="面电荷分布自能"></a>面电荷分布自能</h3><script type="math/tex; mode=display">W_e=\frac{1}{2}\iint_S\sigma(\boldsymbol{r})U(\boldsymbol{r})\text{d}S</script><p>线电荷不能求自能</p><h3 id="空间电势能"><a href="#空间电势能" class="headerlink" title="空间电势能"></a>空间电势能</h3><p>空间总电势为</p><script type="math/tex; mode=display">U(\boldsymbol{r}) = U_i(\boldsymbol{r}) + U^{(i)}(\boldsymbol{r})</script><p>$U_i$：除第i个带电体外所有其他带电体在r产生的电势<br>$U^{(i)}$：第i个带电体在r处产生的电势</p><p>总电势能</p><script type="math/tex; mode=display">W_e = \frac{1}{2}\sum_{i=1}^{N}\iiint_V\rho(\boldsymbol{r})U(\boldsymbol{r})\text{d}V \\ = \frac{1}{2}\sum_{i=1}^{N}\iiint_V\rho(\boldsymbol{r})U^{(i)}(\boldsymbol{r})\text{d}V + \frac{1}{2}\sum_{i=1}^{N}\iiint_V\rho(\boldsymbol{r})U_i(\boldsymbol{r})\text{d}V</script><p>即</p><script type="math/tex; mode=display">W_{\text{静}} = W_{\text{自}} + W_{\text{互}}</script><p>互能可以当成点电荷处理。</p><h3 id="孤立带电球体的自能"><a href="#孤立带电球体的自能" class="headerlink" title="孤立带电球体的自能"></a>孤立带电球体的自能</h3><script type="math/tex; mode=display">W_{\text{自}} = \frac{4\pi\rho^2R^5}{15\varepsilon_0}</script><h3 id="带电导体的静电能"><a href="#带电导体的静电能" class="headerlink" title="带电导体的静电能"></a>带电导体的静电能</h3><p>带电导体电荷分布在外表面</p><script type="math/tex; mode=display">W_e = \frac{1}{2}\sum_{i=1}^{N}\iint_S\sigma U\text{d}S = \frac{1}{2}\sum_{i=1}^{N}q_iU_i</script><h3 id="电偶极子的静电能"><a href="#电偶极子的静电能" class="headerlink" title="电偶极子的静电能"></a>电偶极子的静电能</h3><script type="math/tex; mode=display">W = -\vec{p} \cdot\vec{E}</script><p>所以p平行于外场且指向外场方向时，能量最低。</p><h3 id="电容器的能量"><a href="#电容器的能量" class="headerlink" title="电容器的能量"></a>电容器的能量</h3><script type="math/tex; mode=display">W_e = \frac{1}{2}QU</script><p>其中U为电势差</p><h3 id="电介质存在时带电系统的静电能"><a href="#电介质存在时带电系统的静电能" class="headerlink" title="电介质存在时带电系统的静电能"></a>电介质存在时带电系统的静电能</h3><p>静电能时建立自由电荷分布所需要的外界做功，但是电势U包括了所有电荷的贡献</p><script type="math/tex; mode=display">W_e = \frac{1}{2}\iiint_V\rho_0(\boldsymbol{r})U(\boldsymbol{r})\text{d}V</script><h3 id="宏观静电能"><a href="#宏观静电能" class="headerlink" title="宏观静电能"></a>宏观静电能</h3><p>若</p><script type="math/tex; mode=display">\rho({\boldsymbol{r}})=\rho_0({\boldsymbol{r}}) + \rho^{'}(\boldsymbol{r})</script><p>定义宏观静电能</p><script type="math/tex; mode=display">W_{e0} = \frac{1}{2}\iiint_{V_0}\rho_0(\boldsymbol{r})U(\boldsymbol{r})\text{d}V + \frac{1}{2}\iiint_{V^{'}}\rho({\boldsymbol{r}})U(\boldsymbol{r})\text{d}V</script><p>为建立宏观电荷分布$\rho_0(\boldsymbol{r}) + \rho^{‘}(\boldsymbol{r})$过程中系统储存的静电能。</p><p>静电能时在建立该状态过程中外界对系统所做的功，事实上仅相当于对自由电荷所做的功。在完成自由电荷的分布后，极化电荷自发产生，产生了宏观静电能的概念。</p><p>静电能等于宏观静电能加上极化能，即</p><script type="math/tex; mode=display">W_e = W_{e0} + W_{\text{极}}</script><p>计算得到极化能</p><script type="math/tex; mode=display">W_{\text{极}} = -\frac{1}{2}\iiint_{V^{'}}\rho^{'}(\boldsymbol{r})U(\boldsymbol{r})\text{d}V</script><h3 id="电场的能量密度"><a href="#电场的能量密度" class="headerlink" title="电场的能量密度"></a>电场的能量密度</h3><script type="math/tex; mode=display">\omega_e = \frac{W_e}{V} = \frac{1}{2}\vec{D}\cdot\vec{E}</script><p>静电能</p><script type="math/tex; mode=display">W_e = \iiint_V\omega_e\text{d}V</script><p>PPT上用了复杂的方法推导这个关系，但是我很菜，记住就好。</p><p>对导体或者真空($\varepsilon = \varepsilon_0$的情况)</p><script type="math/tex; mode=display">\omega_e = \omega_{e0} = \frac{1}{2}\varepsilon_0E^2</script><p>对均匀介质，</p><script type="math/tex; mode=display">\omega_e = \omega_{e0} + \omega_{\text{极}} = \frac{1}{2}\varepsilon_0E^2 + \frac{1}{2}\vec{P}\cdot\vec{E}</script><h3 id="虚功原理"><a href="#虚功原理" class="headerlink" title="虚功原理"></a>虚功原理</h3><p>对孤立带点体，若电量Q保持不变，</p><script type="math/tex; mode=display">\vec{F}\cdot\text{d}\vec{r} = -(\Delta W)_Q \rightarrow \vec{F} = -\left(\frac{\partial W}{\partial \vec{r}}\right)_Q</script><p>对非孤立带电体，若电势U保持不变，</p><script type="math/tex; mode=display">\vec{F}\cdot\text{d}\vec{r} = (\Delta W)_U \rightarrow \vec{F} = \left(\frac{\partial W}{\partial \vec{r}}\right)_U</script><p>推导：<br>对于一个稳定系统，发生虚位移后</p><script type="math/tex; mode=display">\text{d}W = \delta A - \delta A^{'}</script><p>其中$\delta A$为外界电源做功，$\delta A^{‘}$为静电力做功。静电力作功与能量有着功能原理，所以是负号。<br>在连接外部电源时，有关系$\delta A = 2 \delta A^{‘}$，可以由电容的公式推广得到。</p><p>所以自然有了虚功原理的公式。其中的符号也得到了解释。</p><h2 id="第三章"><a href="#第三章" class="headerlink" title="第三章"></a>第三章</h2><h3 id="电流强度"><a href="#电流强度" class="headerlink" title="电流强度"></a>电流强度</h3><script type="math/tex; mode=display">I = \frac{\text{d}Q}{\text{d}t}</script><h3 id="电流密度"><a href="#电流密度" class="headerlink" title="电流密度"></a>电流密度</h3><p>作一单位矢量为电流方向，取一面元$\Delta S_0$与$\boldsymbol{n}_0$垂直，设通过$\Delta S_0$的电流强度为$\Delta I$，则电流密度为</p><script type="math/tex; mode=display">\vec{j} = \frac{\Delta I}{\Delta S_0}\vec{n}_0</script><p>所以通过任意有限截面$S$的电流强度为</p><script type="math/tex; mode=display">I = \iint_S\vec{j}\cdot\text{d}\vec{S}</script><h3 id="电流密度的微观图像"><a href="#电流密度的微观图像" class="headerlink" title="电流密度的微观图像"></a>电流密度的微观图像</h3><p>导体中有k种带电粒子，其中第i种带电粒子的电量、带电粒子数密度、平均速度为$q_i, n_i, \boldsymbol{\bar{u}}_i$</p><p>则</p><script type="math/tex; mode=display">\vec{j} = \sum_{i=1}^{N}q_in_i\boldsymbol{\bar{u}}_i</script><p>注意到$q_in_i = \rho_i$，有</p><script type="math/tex; mode=display">\vec{j} = \sum_{i=1}^{N}\rho_i\boldsymbol{\bar{u}}_i</script><h3 id="电流连续性方程"><a href="#电流连续性方程" class="headerlink" title="电流连续性方程"></a>电流连续性方程</h3><script type="math/tex; mode=display">\oiint_S \vec{j}\cdot \text{d}\vec{S} = -\iiint_V \frac{\partial \rho}{\partial t}\text{d} V  = -\frac{\text{d} q}{\text{d} t}</script><p>即</p><script type="math/tex; mode=display">\nabla \cdot \vec{j} + \frac{\partial \rho}{\partial t} = 0</script><h3 id="稳恒条件"><a href="#稳恒条件" class="headerlink" title="稳恒条件"></a>稳恒条件</h3><p>稳恒电流的闭合性；电荷的分布不因电流的存在而随时间变化，产生的电场不随时间变化。</p><p>电流线或者电流是闭合的，不可能有起点或者终点。<br>沿任一电流管的各截面电流强度都相等。</p><h3 id="欧姆定律"><a href="#欧姆定律" class="headerlink" title="欧姆定律"></a>欧姆定律</h3><script type="math/tex; mode=display">I=\frac{U}{R} = GU, U = IR</script><script type="math/tex; mode=display">R= \rho\frac{l}{S}, G=\sigma\frac{S}{l}</script><h3 id="欧姆定律的微观形式"><a href="#欧姆定律的微观形式" class="headerlink" title="欧姆定律的微观形式"></a>欧姆定律的微观形式</h3><script type="math/tex; mode=display">\vec{j} =\sigma\vec{E},\vec{E} = \rho\vec{j}</script><p>可以用之求解电阻，一般地，可以用</p><script type="math/tex; mode=display">R=\int\rho\frac{\text{d}l}{S}</script><p>和/即</p><script type="math/tex; mode=display">R = \frac{U}{I} = \frac{\int \vec{E}\cdot \text{d}\vec{l}}{I} = \frac{\int \rho \vec{j}\cdot\text{d}\vec{l}}{I}</script><h3 id="焦耳定律"><a href="#焦耳定律" class="headerlink" title="焦耳定律"></a>焦耳定律</h3><p>单位时间内电场做的功，即电流的功率为</p><script type="math/tex; mode=display">P_e = \frac{\text{d}A}{\text{d}t} = IU</script><p>电功率密度定义为</p><script type="math/tex; mode=display">p = \frac{P}{V} = \frac{I^2R}{V}</script><p>利用电流管，证明得到</p><script type="math/tex; mode=display">p = \vec{j}\cdot\vec{E} = \frac{j^2}{\sigma} = \rho j^2</script><h3 id="导电介质问题"><a href="#导电介质问题" class="headerlink" title="导电介质问题"></a>导电介质问题</h3><p>基本定理</p><script type="math/tex; mode=display">\oint_L \vec{E}\cdot\text{d}\vec{l} = 0</script><script type="math/tex; mode=display">\oiint_S \vec{j}\cdot \text{d}\vec{S} = 0</script><p>性能方程</p><script type="math/tex; mode=display">\vec{j} = \sigma \vec{E}</script><script type="math/tex; mode=display">\vec{D} = \varepsilon\vec{E}</script><p>边界条件</p><script type="math/tex; mode=display">\vec{n}\times(\vec{E}_2 - \vec{E}_1) = 0</script><script type="math/tex; mode=display">\vec{n}\cdot(\vec{j}_2 - \vec{j}_1) = 0</script><p>参考<a href="#电介质交界面上的物理量">电介质交界面上的物理量</a></p><p>一般步骤</p><p>先根据导电性质求出电场分布，再根据介质性质求出极化的情况。计划性质决定了自由电荷和极化电荷在总电荷中所占的比例，与介电常量有关。</p><script type="math/tex; mode=display">\oiint_S \vec{E}\cdot \text{d}\vec{S} = \frac{Q}{\varepsilon_0} = \frac{Q_0}{\varepsilon}</script><p>得到</p><script type="math/tex; mode=display">\frac{Q^{'}}{Q} = \frac{Q-Q_0}{Q} = \frac{\varepsilon_0 - \varepsilon}{\varepsilon_0}</script><h3 id="导电介质的电容与电阻"><a href="#导电介质的电容与电阻" class="headerlink" title="导电介质的电容与电阻"></a>导电介质的电容与电阻</h3><script type="math/tex; mode=display">C=\frac{Q_0}{\Delta U} = \frac{\varepsilon}{\Delta U}\oiint_S \vec{E}\cdot\text{d}\vec{S}</script><script type="math/tex; mode=display">\frac{1}{R} = \frac{I}{\Delta U} = \frac{\sigma}{\Delta U}\oiint_S \vec{E}\cdot \text{d}\vec{S}</script><p>得到时间常数</p><script type="math/tex; mode=display">\tau = RC = \frac{\varepsilon}{\sigma} = \rho\varepsilon</script><h3 id="全电路欧姆定律"><a href="#全电路欧姆定律" class="headerlink" title="全电路欧姆定律"></a>全电路欧姆定律</h3><p>U为路端电压</p><script type="math/tex; mode=display">U = \varepsilon - Ir</script><h3 id="奇怪电阻回路"><a href="#奇怪电阻回路" class="headerlink" title="奇怪电阻回路"></a>奇怪电阻回路</h3><p>假设电流法，对称法，断开节点法</p><h3 id="Y——Delta转换"><a href="#Y——Delta转换" class="headerlink" title="Y——Delta转换"></a>Y——Delta转换</h3><script type="math/tex; mode=display">R_{12} = \frac{G_1 + G_2 + G_3}{G_1G_2}</script><script type="math/tex; mode=display">R_{23} = \frac{G_1 + G_2 + G_3}{G_2G_3}</script><script type="math/tex; mode=display">R_{31} = \frac{G_1 + G_2 + G_3}{G_3G_1}</script><script type="math/tex; mode=display">G_1 = \frac{R_{12} + R_{23} + R_{31}}{R_{12}R_{31}}</script><script type="math/tex; mode=display">G_2 = \frac{R_{12} + R_{23} + R_{31}}{R_{12}R_{23}}</script><script type="math/tex; mode=display">G_3 = \frac{R_{12} + R_{23} + R_{31}}{R_{23}R_{31}}</script>]]></content>
    
    
    <categories>
      
      <category>学习</category>
      
      <category>物理</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
      <tag>课内复习</tag>
      
      <tag>物理</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Minimal TikZ 学习笔记</title>
    <link href="/2021/09/10/Minimal-TikZ-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2021/09/10/Minimal-TikZ-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文为<code>A very minimal introduction to TikZ</code>学习笔记，主要将一些重点内容用中文记录下来。基本原因是我看英语看得头疼。<br><span id="more"></span><br>该指南作者为Jacques Cr´emer，内容发表于2011年3月11日。</p><p>由于网站平台限制，文中的代码将无法执行，所以无法直观地看到输出结果。有兴趣的读者可以自行输入和编译并观察实验结果。</p><h2 id="Picture环境"><a href="#Picture环境" class="headerlink" title="Picture环境"></a>Picture环境</h2><p>通常使用如下基本配置，实现中文环境下文章的编辑。通常情况下，我们会外套table环境用于图片定位。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><pre><code class="hljs latex">\documentclass[tikz]&#123;article&#125;<br>\usepackage&#123;tikz&#125;<br>\usepackage[UTF8]&#123;ctex&#125;<br>\begin&#123;document&#125;<br>    \begin&#123;figure&#125;<br>        \begin&#123;tikzpicture&#125;<br>            code here<br>        \end&#123;tikzpicture&#125;<br>        \caption&#123;CAPTION&#125;<br>    \end&#123;figure&#125;<br>\end&#123;document&#125;<br></code></pre></td></tr></table></figure><p>如果只希望进行配图的生成，使用如下配置。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs latex">\documentclass[margin=10pt,tikz]&#123;standalone&#125;<br>\usepackage&#123;tikz&#125;<br>\usepackage[UTF8]&#123;ctex&#125;<br>\begin&#123;document&#125;<br>    \begin&#123;tikzpicture&#125;<br>        code here<br>    \end&#123;tikzpicture&#125;<br>\end&#123;document&#125;<br></code></pre></td></tr></table></figure><h2 id="基本绘图"><a href="#基本绘图" class="headerlink" title="基本绘图"></a>基本绘图</h2><p>TikZ使用坐标系来精确定位图像元素的位置，请在绘图时将图像坐标牢记于心。</p><p>我们会建议用户使用结点<code>\node</code>来标记元素坐标，而不是直接使用立即数。但是，教程中我们采取了后者，为了清晰可见的视觉效果。</p><h3 id="直线"><a href="#直线" class="headerlink" title="直线"></a>直线</h3><p>一条直线，注意分号是必须的。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw (0, 0) -- (1, 2);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>一条折线</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw (0, 0) -- (1, 2) -- (2, 3) -- (1, 0);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>带有辅助网格的折线，辅助网格可以帮助用户定位。辅助网格使用风格<code>help lines</code>，推荐在其他元素之前绘制，防止覆盖和叠加。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw[help lines] (0， 0) grid (2, 3);<br>    \draw (0, 0) -- (1, 2) -- (2, 3) -- (1, 0);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><h3 id="图像缩放"><a href="#图像缩放" class="headerlink" title="图像缩放"></a>图像缩放</h3><p>通过在环境上添加<code>scale</code>的值，可以调整图片的缩放尺度。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;[scale=3]<br>    \draw (0, 0) -- (1, 1);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;[xscale=2, yscale=3]<br>    \draw (0, 0) -- (1, 1);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><h3 id="箭头，和对应衍生物"><a href="#箭头，和对应衍生物" class="headerlink" title="箭头，和对应衍生物"></a>箭头，和对应衍生物</h3><p>线可以添加相应的”装饰”。通常来说，箭头类装饰只会出现在线的两侧，折线也是如此。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [-&gt;] (0, 0) -- (2, 0);<br>    \draw [&lt;-] (0, -0.5) -- (2,-0.5);<br>\draw [|-&gt;] (0,-1) -- (2,-1);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>双向箭头可以作为一种取巧的方式产生坐标系。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [&lt;-&gt;] (0,2) -- (0,0) -- (3,0);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><h3 id="改变线的宽度"><a href="#改变线的宽度" class="headerlink" title="改变线的宽度"></a>改变线的宽度</h3><p>通过各种<code>decoration</code>来改变线的风格，宽度的风格有<code>ultra thin, very thin, thin, semithick, thick, very thick, ultra thick</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [ultra thick] (0,1) -- (2,1);<br>    \draw [thick] (0,0.5) -- (2,0.5);<br>    \draw [thin] (0,0) -- (2,0);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>先前提及的<code>help lines</code>，其实是一种<code>fine gray</code>的装饰，可以用作各种辅助线。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [&lt;-&gt;] (0,2) -- (0,0) -- (4,0);<br>    \draw [thick] (0,1.5) -- (3,0);<br>    \draw [ultra thick] (0,0) -- (2,2);<br>    \draw [help lines] (1,0) -- (1,1) -- (0,1);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>当然可以自由指定线宽。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [line width=12] (0,0) -- (2,0);<br>    \draw [line width=0.2cm] (4,.75) -- (5,.25);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><h3 id="dashes-and-dots"><a href="#dashes-and-dots" class="headerlink" title="dashes and dots"></a>dashes and dots</h3><p>可以使用散点和散线。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [dashed, ultra thick] (0,1) -- (2,1);<br>    \draw [dashed] (0, 0.5) -- (2,0.5);<br>    \draw [dotted] (0,0) -- (2,0);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><h3 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h3><p>可以直接指定颜色，包括<code>red, green, blue, cyan, magenta, yellow, black, gray, darkgray, lightgray, brown, lime, olive, orange, pink, purple, teal, violet, white</code>，也可以通过不同方法定义自己的颜色。参考手册即可。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [gray] (0,1) -- (2,1);<br>    \draw [red] (0, 0.5) -- (2,0.5);<br>    \draw [blue] (0,0) -- (2,0);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><h3 id="文中符号和图形"><a href="#文中符号和图形" class="headerlink" title="文中符号和图形"></a>文中符号和图形</h3><p>事实上，如果不外套figure环境，你可以做到行内符号和图形。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125; \draw [yellow, line width=6] (0,0) -- (.5,0); \end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><h3 id="曲线"><a href="#曲线" class="headerlink" title="曲线"></a>曲线</h3><p>TikZ提供各种各样的曲线。示例如下。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>\draw [blue] (0,0) rectangle (1.5,1);<br>\draw [red, ultra thick] (3,0.5) circle [radius=0.5];<br>\draw [gray] (6,0) arc [radius=1, start angle=45, end angle= 120];<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p><code>arc</code>中，各个参数有这样的含义，即radius表示半径，start angle 表示起始点的角度，end angle 表示终止点的角度。</p><p>TikZ也允许你获得圆滑的路径。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [&lt;-&gt;, rounded corners, thick, purple] (0,2) -- (0,0) -- (3,0);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>其他的曲线呢？TikZ允许你通过大量的点，(x, y)模拟一条曲线。当然这不是最佳的选择。TikZ提供了数学工具，可以产生大致的曲线。不过你需要指定起点终点的倾角。这个倾角的取值范围为[0, 360)，大概。我没看手册，应该吧。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw[very thick] (0,0) to [out=90,in=195] (2,1.5);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>注意这里使用了<code>to</code>关键词表示你制定了一条曲线。值得提醒的是，你也可以使用<code>&lt;-&gt;</code>之类的符号给曲线增加箭头。</p><h3 id="数学作图"><a href="#数学作图" class="headerlink" title="数学作图"></a>数学作图</h3><p>TikZ允许你通过数学公式绘制图像。代码如下。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;[xscale=13,yscale=3.8]<br>    \draw [&lt;-&gt;] (0,0.8) -- (0,0) -- (0.5,0);<br>    \draw[green, ultra thick, domain=0:0.5] plot (\x, &#123;0.025+\x+\x*\x&#125;);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>这里的<code>\x</code>事实上是点的真实坐标。<code>domain</code>提供了定义域的范围。除了这些函数，TkiZ还提供了</p><ul><li><code>factorial(\x)</code></li><li><code>sqrt(\x),</code></li><li><code>pow(\x, y)</code>，x的y次幂。</li><li><code>exp(\x)</code></li><li><code>ln(\x)</code></li><li><code>log10(\x)</code></li><li><code>log2(\x)</code></li><li><code>abs(\x)</code>，x的绝对值。</li><li><code>mod(\x, y</code>，x 模 y。</li><li><code>round(\x)</code>，取值到最近的整数。</li><li><code>floor(\x)</code>，下取整数。</li><li><code>ceil(\x)</code>，上取整数。</li><li><code>sin(\x)</code>，x是角度，如果想使用弧度，请使用函数sin(\x r)。</li><li><code>cos(\x)</code>，x是角度，如果想使用弧度，请使用函数cos(\x r)。</li><li><code>tan(\x)</code>, x是角度，如果想使用弧度，请使用函数tan(\x r)。</li><li><code>min(\x, y)</code>。</li><li><code>max(\x, y)</code>。</li></ul><p>和<code>rnd</code>产生[0,1]中随机数的函数，和两个常数<code>e = 2.718281828, pi = 3.141592654</code>。</p><p>下面的图象有不错的视觉效果。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [help lines, &lt;-&gt;] (0,0) -- (6.5,0);<br>    \draw [help lines, -&gt;] (0,-1.1) -- (0,1.1);<br>    \draw [green,domain=0:2*pi] plot (\x, &#123;(sin(\x r)* ln(\x+1))/2&#125;);<br>    \draw [red,domain=0:pi] plot (\x, &#123;sin(\x r)&#125;);<br>    \draw [blue, domain=pi:2*pi] plot (\x, &#123;cos(\x r)*exp(\x/exp(2*pi))&#125;);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><h3 id="填充区域"><a href="#填充区域" class="headerlink" title="填充区域"></a>填充区域</h3><p>简单使用<code>fill</code>参数即可将闭曲线填充。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [fill=red,ultra thick] (0,0) rectangle (1,1);<br>    \draw [fill=red,ultra thick,red] (2,0) rectangle (3,1);<br>    \draw [blue, fill=blue] (4,0) -- (5,1) -- (4.75,0.15) -- (4,0);<br>    \draw [fill] (7,0.5) circle [radius=0.1];<br>    \draw [fill=orange] (9,0) rectangle (11,1);<br>    \draw [fill=white] (9.25,0.25) rectangle (10,1.5);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p><code>fill = red</code>告诉TikZ你想要用红色填充，<code>red</code>告诉TikZ你想用红色绘制路径。</p><p>有的时候你不想看到路径，即边框线。那么可以使用<code>\path</code>指令实现这一功能。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>\path [fill=gray] (0,0) rectangle (1.5,1);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><h3 id="复杂路径仍然可以填充"><a href="#复杂路径仍然可以填充" class="headerlink" title="复杂路径仍然可以填充"></a>复杂路径仍然可以填充</h3><p>只要路径的终点和起点相吻合，图形一样可以填充。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [ultra thick] (0,0) to [out=87,in=150] (1,1) -- (.85,.15) -- (0,0);<br>    \draw [ultra thick, fill=purple] (2,0) to [out=87,in=150] (3,1) -- (2.85,.15) -- (2,0);<br>    \path [fill=purple] (4,0) to [out=87,in=150] (5,1) -- (4.85,.15) -- (4,0);<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><h3 id="图像中放置标签"><a href="#图像中放置标签" class="headerlink" title="图像中放置标签"></a>图像中放置标签</h3><p>标签的放置可以通过<code>\node</code>实现。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [thick, &lt;-&gt;] (0,2) -- (0,0) -- (2,0);<br>    \node at (1,1) &#123;yes&#125;;<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p><code>\node</code> 可以添加标记，即<code>\node(node name)</code>。如果只是为了标记，可以使用<code>\node (node name) at (x, y)</code>定义坐标点。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [thick, &lt;-&gt;] (0,2) -- (0,0) -- (2,0);<br>    \draw [fill] (1,1) circle [radius=0.025];<br>    \node [below] at (1,1) &#123;below&#125;;<br>    \node [above] at (1,1) &#123;above&#125;;<br>    \node [left]  at (1,1) &#123;left&#125;;<br>    \node [right] at (1,1) &#123;right&#125;;<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>也有更加绚丽的图片。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [thick, &lt;-&gt;] (0,1) -- (0,0) -- (1,0);<br>    \draw[fill] (1,1) circle [radius=0.025];<br>    \node [below right, red] at (.5,.75) &#123;below right&#125;;<br>    \node [above left, green] at (.5,.75) &#123;above left&#125;;<br>    \node [below left, purple] at (.5,.75) &#123;below left&#125;;<br>    \node [above right, magenta] at (.5,.75) &#123;above right&#125;;<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>这种情况下，我们可以获得一个完美的坐标系。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [thick, &lt;-&gt;] (0,1) -- (0,0) -- (1,0);<br>    \node [below right] at (1,0) &#123;$x$&#125;;<br>    \node [left] at (0,1) &#123;$y$&#125;;<br>    \draw[fill] (.4,.6) circle [radius=.5pt];<br>    \node[above right] (.4,.6) &#123;$A$&#125;;<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>当然我们可以将指令合在一起写，省去结点的声明。不过这样的话不符合我们先前约定的规范。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [thick, &lt;-&gt;] (0,1) node [left] &#123;$y$&#125;<br>        -- (0,0) -- (1,0) node [below right] &#123;$x$&#125;;<br>    \draw[fill] (.4,.6) circle [radius=.5pt]<br>        node[above right] (.4,.6) &#123;$A$&#125;;<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><p>在一个结点内，如果你想要产生多行文字，你需要告诉TikZ你在哪个地方换行，使用<code>\\</code>符号。同时，你需要指定对齐方式，否则TikZ将不会渲染。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;tikzpicture&#125;<br>    \draw [thick] (0,0) -- (9,0);<br>    \draw (0,-.2) -- (0, .2);<br>    \draw (3,-.2) -- (3, .2);<br>    \draw (6,-.2) -- (6, .2);<br>    \draw (9,-.2) -- (9, .2);<br>    \node[align=left, below] at (1.5,-.5)%<br>        &#123;This happens\\in period 1\\and is aligned\\ left&#125;;<br>    \node[align=center, below] at (4.5,-.5)%<br>        &#123;This happens\\in period 2\\and is centered&#125;;<br>    \node[align=right, below] at (7.5,-.5)%<br>        &#123;This happens\\in period 2\\and is right\\aligned&#125;;<br>\end&#123;tikzpicture&#125;<br></code></pre></td></tr></table></figure><h3 id="集成进入Beamer"><a href="#集成进入Beamer" class="headerlink" title="集成进入Beamer"></a>集成进入Beamer</h3><p>Beamer 和 TikZ出于同一个作者之手，当然具有良好的集成性。在Beamer中，可以直接使用TikZ。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs latex">\begin&#123;frame&#125;<br>    a few lines<br>    \begin&#123;center&#125;<br>        \begin&#123;tikzpicture&#125;<br>            \draw [blue, ultra thick] (-1,2) -- (6,3);<br>            \uncover&lt;1&gt;&#123;\draw [green,thick] (-4,3) -- (2,2.5);&#125;<br>            \uncover&lt;2&gt;&#123;\draw [red,thick] (0,0) -- (0,5);&#125;<br>        \end&#123;tikzpicture&#125;<br>    \end&#123;center&#125;<br>    and something under.<br>\end&#123;frame&#125;<br></code></pre></td></tr></table></figure><p>其中<code>\uncover</code>不能换成<code>\only</code>，否则其他元素的位置将会改变。</p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>学习TikZ是一个漫长的过程。TikZ功能强大，还有许多宏包辅助功能，这些都会在将来的实践中发挥作用。</p>]]></content>
    
    
    <categories>
      
      <category>学习</category>
      
      <category>排版</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
      <tag>排版</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>遇到的bug汇总</title>
    <link href="/2021/08/29/%E9%81%87%E5%88%B0%E7%9A%84bug%E6%B1%87%E6%80%BB/"/>
    <url>/2021/08/29/%E9%81%87%E5%88%B0%E7%9A%84bug%E6%B1%87%E6%80%BB/</url>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>作为一个能力不足的人，在日常生活中，总会有那么一些bug让我难以接受。我将其中的部分汇总如下，聊以慰藉。</p><span id="more"></span><p>本文理论上是长期更新的，不要嫌文章短（</p><h2 id="时间流逝造成的未知错误"><a href="#时间流逝造成的未知错误" class="headerlink" title="时间流逝造成的未知错误"></a>时间流逝造成的未知错误</h2><h3 id="PowerToys-的bug"><a href="#PowerToys-的bug" class="headerlink" title="PowerToys 的bug"></a>PowerToys 的bug</h3><p>作为Vim用户，交换Caps Lock和Esc键是常规操作了。为了体现Geek风范，我使用了 MicroSoft维护的PowerToys来实现键盘重映射。</p><p>但是，我没有想到的是，当前版本的PowerToys存在假死的情况。假死过后，会强制软件激活Caps Lock，造成我编码的误操作。令人惊奇的是，激活的Caps Lock，我需要按两次才能取消。第一次是硬件激活，第二次是硬件取消。可以算是步调不一致了。</p><h3 id="“-target”？-你从哪里来？"><a href="#“-target”？-你从哪里来？" class="headerlink" title="“-target”？ 你从哪里来？"></a>“-target”？ 你从哪里来？</h3><p>先前在调试clang的时候，在系统变量中添加了<code>CXXFLAGS</code> 和它的值 <code>-target XXXX</code>。后来因为clang 始终无法测试成功，便卸载了clang。但是，系统变量没有被删除。</p><p>后来，我再调试CMake的时候，无论怎么make都会显示无法通过编译器测试，显示<code>Uknown command line &quot;-target&quot;</code>。</p><p>我怎么想，都觉得不可思议。明明g++使用格式为<code>--target</code>，为什么CMake会这么不合常理地使用这样的编译选项，反而告诉我无法编译呢？</p><p>可想而知，耗费三个小时后，我灵光一闪，删除了系统变量中的<code>CXXFLAGS</code>。编译通过了。</p><p>所以clang和g++读取同一个系统变量，这种原因我不得而知。</p><h3 id="关我Anaconda何事？"><a href="#关我Anaconda何事？" class="headerlink" title="关我Anaconda何事？"></a>关我Anaconda何事？</h3><p>首次使用VSCode编辑Qt6生成的CMake工程时，Intelligence总是提示错误的引用。仔细一看，include到了<code>Anaconda/Library/Qt</code>里面的文件。这就问题很大了。</p><p>思索再三，我发现VSCode的<code>C/C++</code>扩展中对include path的定义，是先在系统环境变量中搜索的。那么，Anaconda的路径在Qt之前，便会直接从Anaconda中include，这就产生了错误。</p><p>将环境变量的顺序调整了之后，问题不再复现。</p><h2 id="编程技术造成的错误"><a href="#编程技术造成的错误" class="headerlink" title="编程技术造成的错误"></a>编程技术造成的错误</h2><h3 id="C语言篇"><a href="#C语言篇" class="headerlink" title="C语言篇"></a>C语言篇</h3><h4 id="忘记加括号"><a href="#忘记加括号" class="headerlink" title="忘记加括号"></a>忘记加括号</h4><figure class="highlight c"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs c">PWM_SetPWM_ByDutyCycle(SteerNumber, (<span class="hljs-keyword">uint16_t</span>)(angle * <span class="hljs-number">2.0</span> / <span class="hljs-number">180</span> + <span class="hljs-number">0.5</span>) / <span class="hljs-number">20</span> * <span class="hljs-number">4096</span>);<br></code></pre></td></tr></table></figure><p>这样的代码会将任何angle输入，变成0的。因为uint16_t的作用对象错了，应该是整个表达式的值。表达式的类型是double，在进行计算的时候精度损失可以忽略。但是uint16_t位置不对，提前变换成了整型，这不是胡闹吗？</p><p>正确修改如下。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">PWM_SetPWM_ByDutyCycle(SteerNumber, (<span class="hljs-keyword">uint16_t</span>)((angle * <span class="hljs-number">2.0</span> / <span class="hljs-number">180</span> + <span class="hljs-number">0.5</span>) / <span class="hljs-number">20</span> * <span class="hljs-number">4096</span>));<br></code></pre></td></tr></table></figure><h4 id="volatile-并行计算需要好好学习"><a href="#volatile-并行计算需要好好学习" class="headerlink" title="volatile?并行计算需要好好学习"></a>volatile?并行计算需要好好学习</h4><p>多次读取一个变化的值，读出来的竟然是相同的。这是正常现象，编译器做出来的优化，只需要加上volatile关键词即可。问题的根本在于并行计算理解不够，有待更加深入学习并行计算理论了。</p><h4 id="造轮子是需要水平的，溢出是需要检查的"><a href="#造轮子是需要水平的，溢出是需要检查的" class="headerlink" title="造轮子是需要水平的，溢出是需要检查的"></a>造轮子是需要水平的，溢出是需要检查的</h4><p>课程要求我手动造轮子。可惜能力不足，出现了内存溢出。但是我怎么检查，怎么测试，都不可能出现溢出啊？最后发现，是<strong>没有赋初始值</strong>造成的数据错乱，而不是指向了释放的内存空间。所以，造轮子需谨慎，我仍然是一个菜鸡。</p><h3 id="CMake篇"><a href="#CMake篇" class="headerlink" title="CMake篇"></a>CMake篇</h3><h4 id="“默认化的默认构造函数不能为constexpr”"><a href="#“默认化的默认构造函数不能为constexpr”" class="headerlink" title="“默认化的默认构造函数不能为constexpr”"></a>“默认化的默认构造函数不能为constexpr”</h4><p>首次尝试利用Qt Creator生成mingw工程并利用Visual Studio 2022调试时，就连最基本的代码都无法编译通过。报错就是标题内容，尽管是自动生成的代码。仔细检查后 发现，Visual Studio读取CMake文件时，没有读取到正确的CMake生成器，默认使用了Ninja，这个我可不会。</p><p>在VS的某个界面中，修改CMake工程的生成器，为Unix Makefiles，这样就编译通过了。</p><!-- 顺带一提，我还没有搞懂Qt Creator生成的MSVC工程如何利用VS 2022调试（ --><h3 id="通病"><a href="#通病" class="headerlink" title="通病"></a>通病</h3><h4 id="无后效性提醒"><a href="#无后效性提醒" class="headerlink" title="无后效性提醒"></a>无后效性提醒</h4><p>在一次编程实践中，我发现系统出现了不应该的异常抖动。代码如下。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Motor_Decode</span><span class="hljs-params">(MotorInput_t x, MotorInput_t y, MotorInput_t w)</span> </span>&#123;<br><br>    <span class="hljs-comment">// 反向的速度才是正方向</span><br>    x = -x;<br>    y = -y;<br><br>    <span class="hljs-comment">// 保存速度结果，便于调试运动状态</span><br>    Motor_InputInstance.x = x;<br>    Motor_InputInstance.y = y;<br>    Motor_InputInstance.w = w;<br><br>    Motor_TargetSpeed[<span class="hljs-number">0</span>] = MotorDecodeOutputFix(Motor_InputInstance.Kx * x +<br>                                                Motor_InputInstance.Ky * y +<br>                                                Motor_InputInstance.Kw * w);<br>    Motor_TargetSpeed[<span class="hljs-number">1</span>] = MotorDecodeOutputFix(-Motor_InputInstance.Kx * x +<br>                                                Motor_InputInstance.Ky * y -<br>                                                Motor_InputInstance.Kw * w);<br>    Motor_TargetSpeed[<span class="hljs-number">2</span>] = MotorDecodeOutputFix(-Motor_InputInstance.Kx * x +<br>                                                Motor_InputInstance.Ky * y +<br>                                                Motor_InputInstance.Kw * w);<br>    Motor_TargetSpeed[<span class="hljs-number">3</span>] = MotorDecodeOutputFix(Motor_InputInstance.Kx * x +<br>                                                Motor_InputInstance.Ky * y -<br>                                                Motor_InputInstance.Kw * w);<br>&#125;<br></code></pre></td></tr></table></figure><p>测试的时候，出现了异常的速度抖动，方向频繁切换。但是，使用如下代码就可以解决。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c">Motor_Decode(new_x, new_y, new_z);<br>Motor_Decode(Motor_InputInstace.x, Motor_InputInstace.y, Motor_InputInstace.w);<br></code></pre></td></tr></table></figure><p>需要我写两遍？</p><p>不，真正的原因是，代码中的<code>x = -x; y = -y;</code>具有后效性，将速度反向放在这个地方没有任何道理，只会造成相同调用条件产生反向的输出结果。将这两行代码删除后，问题得到解决。</p><h2 id="硬件设计中出现的问题"><a href="#硬件设计中出现的问题" class="headerlink" title="硬件设计中出现的问题"></a>硬件设计中出现的问题</h2><h3 id="程序设计"><a href="#程序设计" class="headerlink" title="程序设计"></a>程序设计</h3><h4 id="中断函数提高速度"><a href="#中断函数提高速度" class="headerlink" title="中断函数提高速度"></a>中断函数提高速度</h4><p>中断函数中一定不能写延时，中断函数的速度也需要尽可能提高。如果出现了中断重叠，可能会产生意料之外的错误。例如部分外设频繁死机之类，不容易检查的。</p><h4 id="外设错误调用"><a href="#外设错误调用" class="headerlink" title="外设错误调用"></a>外设错误调用</h4><p>STM32中外设的使用需要提前调用。不仅如此，如果外设使用了某一种调用模式，而你却采用了另一种模式调用，也会出现严重问题，比如，卡死<code>HardFault</code>。举个例子，如果你外设没有配置DMA，或者配置DMA之后使用了阻塞模式，那么，当你下一次尝试使用DMA模式时，会进入<code>HardFault</code>。</p><h3 id="接线错误"><a href="#接线错误" class="headerlink" title="接线错误"></a>接线错误</h3><h4 id="“target-dll-canceled”"><a href="#“target-dll-canceled”" class="headerlink" title="“target dll canceled”"></a>“target dll canceled”</h4><p>众所周知，STM32的调试口是PA13，PA14。由于PCB绘制过程中，出现了与USART1接口相邻的情况，接线员在接线时，误将串口线接在了PA14上。所以，无法进行任何烧写动作了。任何操作都会显示无法连接，毕竟STLink烧写只需要两根线连接PA13，PA14，坏掉一根就有极大影响。</p><p>重新将串口线接在USART1的接线柱上，问题得到解决。</p><h3 id="异常现象"><a href="#异常现象" class="headerlink" title="异常现象"></a>异常现象</h3><h4 id="未知重启"><a href="#未知重启" class="headerlink" title="未知重启"></a>未知重启</h4><p>2021年10月1日的一次调试中，STM32芯片出现了多次的异常重启。经过分析，一共有两种原因，二者交替触发，造成问题难以定位。这两种原因分别是内存泄漏单片机挂起重启，和电压不稳芯片重启。</p><p>正常情况下，内存泄漏应该进入HardFault中断中阻塞全部程序。但本次实验中，STM在遍历了全部内存空间后，产生了软件重启信号，形成了软件重启。表现为调试串口信号从起始位置重新开始。</p><p>在之后的实验中，出现了杜邦线端口松动，电压断供的情况。表现为调试串口信号乱码。</p><p>本人根据调试串口信号的复位信息得到了上述两种复位方式。在修复了相应漏洞后，程序恢复正常，</p><h4 id="晶振不起振"><a href="#晶振不起振" class="headerlink" title="晶振不起振"></a>晶振不起振</h4><p>目前遇到的晶振无法起振问题，主要有三种原因。</p><p>第一种原因是多次拆焊造成晶振内部结构受损。第二种原因是QFN封装造成的焊盘未连接。第三种原因是气温问题，造成芯片HSI和HSE偏差过大，芯片自检不通过无法起振，或者晶振无法起振。</p><h3 id="芯片不正常使用"><a href="#芯片不正常使用" class="headerlink" title="芯片不正常使用"></a>芯片不正常使用</h3><h4 id="LDO篇"><a href="#LDO篇" class="headerlink" title="LDO篇"></a>LDO篇</h4><p>通常在使用LDO的时候，会用到一颗进行<code>5V-&gt;3.3V</code>的芯片。而在调试的时候，通常会使用3.3V供电，这样MCU通电工作，而其他芯片可以保持较低的水平。但是有的时候会忘记这一点，从而调试时发现其他芯片不能正常工作。比如轨降较大的运放，就会出现直接饱和的现象。</p><h4 id="运放篇"><a href="#运放篇" class="headerlink" title="运放篇"></a>运放篇</h4><p>通常买的的便宜运放都不是轨到轨的。在<a href="#LDO篇">LDO篇</a>中提到了，调试供电情况下，5V获得的反相电压通常只有2.5V，那么放到运放上，饱和电压就只有1.3V了。这显然会产生很大的测量误差。应当铭记这一点。</p><h2 id="官方出现的问题"><a href="#官方出现的问题" class="headerlink" title="官方出现的问题"></a>官方出现的问题</h2><h3 id="STM32CubeMX已知问题"><a href="#STM32CubeMX已知问题" class="headerlink" title="STM32CubeMX已知问题"></a>STM32CubeMX已知问题</h3><p>CubeMX生成的HAL库文件出现的问题，多半是顺序问题。</p><p>这里推荐今后使用<code>assert</code>，方便排查ST自己的问题。因为我已经多次被ST坑到。</p><h4 id="I2C异常现象"><a href="#I2C异常现象" class="headerlink" title="I2C异常现象"></a>I2C异常现象</h4><p>代码<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">__HAL_RCC_I2C2_CLK_ENABLE();<br></code></pre></td></tr></table></figure></p><p>需要在<code>I2C</code>初始化之前完成。而生成的代码中，该函数通常在函数末尾。这就会造成初始化失败，无法通信。</p><h4 id="DMA初始化失败"><a href="#DMA初始化失败" class="headerlink" title="DMA初始化失败"></a>DMA初始化失败</h4><p>代码<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">MX_DMA_Init();<br></code></pre></td></tr></table></figure></p><p>必须在调用DMA的外设初始化之前完成。而CubeMX的初始化顺序和<code>开启顺序</code>有关，而不是<code>逻辑顺序</code>或者<code>依赖关系</code>。在这一点上，早在20年便有人指出这样的错误。直到今天（2022年3月13日）ST依然没有改正这个错误。</p>]]></content>
    
    
    <categories>
      
      <category>学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
      <tag>单片机</tag>
      
      <tag>编程语言</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>利用uVision5建立STM32F10x标准库工程</title>
    <link href="/2021/05/27/%E5%88%A9%E7%94%A8uVision5%E5%BB%BA%E7%AB%8BSTM32F10x%E6%A0%87%E5%87%86%E5%BA%93%E5%B7%A5%E7%A8%8B/"/>
    <url>/2021/05/27/%E5%88%A9%E7%94%A8uVision5%E5%BB%BA%E7%AB%8BSTM32F10x%E6%A0%87%E5%87%86%E5%BA%93%E5%B7%A5%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<p>电子设计实践大作业开始在即，即使力学考试就在眼前，我仍然花费一段时间来调试这样的程序。<br>何等的敬业精神。<br>在使用uVision建立新工程的时候，我发现过程相对繁琐且缺乏条理。于是便整理过程如下。<br><span id="more"></span></p><p>本文依然无图（笑</p><h2 id="下载STM32F10x-标准库"><a href="#下载STM32F10x-标准库" class="headerlink" title="下载STM32F10x 标准库"></a>下载STM32F10x 标准库</h2><p>进入链接<a href="https://www.st.com/en/embedded-software/stsw-stm32054.html">https://www.st.com/en/embedded-software/stsw-stm32054.html</a><br>下载即可。</p><h2 id="新建工程"><a href="#新建工程" class="headerlink" title="新建工程"></a>新建工程</h2><p>打开uVision5, 进入<code>Project</code> -&gt; <code>New uVision Project</code>,<br>选择工程文件目录，选择使用的芯片型号即可。</p><h2 id="拷贝库文件"><a href="#拷贝库文件" class="headerlink" title="拷贝库文件"></a>拷贝库文件</h2><p>在工程文件目录附近新建几个文件夹，如下</p><div class="code-wrapper"><pre><code class="hljs">DocLibraries    CMSIS    STM32F10x_StdPeriph_DriverListingOutputProject    MDK        xxx.uvprojxUser</code></pre></div><p>其中<code>CMSIS</code> <code>STM...</code>是下载好的标准库文件中的同名目录，<code>xxx.uvprojx</code>是你刚刚新建的工程文件。</p><p>然后将标准库文件中的示例<code>Template</code>中的文件<code>stm32f10x_conf.h stm32f10x_it.c stm32f10x_it.h</code>文件复制到<code>User</code>目录下。<br>如果<code>stm32f10x_it.c</code>中有<code>#include &quot;main.h&quot;</code>，删去。如果Systick中断函数中有内容，全部注释掉即可。</p><h2 id="将文件添加到工程"><a href="#将文件添加到工程" class="headerlink" title="将文件添加到工程"></a>将文件添加到工程</h2><p>打开uVision5, 选中魔术棒右边的一个按钮，添加分组<code>Startup CMSIS STM32F10x_StdPeriph_Driver User DOc</code>。</p><p>然后，分别点击<code>Add Files</code>，将对应的所有可以找到的.c文件添加到相关分组。</p><p>注意，<code>Startup</code>分组中添加的是<code>startup_stm32f10x_hd.s</code>一个汇编文件。其位于<code>arm</code>目录下，<br>因为我们使用的是MDK的编译器，自然选择arm。</p><h2 id="Option中设计工程"><a href="#Option中设计工程" class="headerlink" title="Option中设计工程"></a>Option中设计工程</h2><p>点开魔术棒，进行如下设置：</p><p><code>Target</code>栏目中，设置芯片默认主频为<code>8MHz</code>，这里没有计入倍频。使用armcc5的编译器，在<code>Code Generation</code>中设置。</p><p><code>Output</code>栏目中，选择目录为先前创建的<code>Output</code>目录。勾选<code>Create HEX File</code>便于以后的使用。<code>Listing</code>栏目同理。</p><p><code>C/C++</code>栏目中，<code>Define</code>填入<code>USE_STDPERIPH_DRIVER</code>，不需要填入芯片型号，因为Keil为你自动添加过了，再次添加会无法编译通过。<br>这是不同于网上教程的一点。</p><p>接着，在<code>Include Paths</code>中填入所有你看到的含有.h文件的目录。</p><p><code>Debug</code>栏目右上角，选择你使用的仿真器。</p><p><code>Utilities</code>中选择<code>Use Debug Driver</code>，进入<code>Settings</code>，在<code>Flash Download</code>栏目中，检查Flash大小是不是与芯片实际大小一致。左翻进入<code>Debug</code>栏目，<code>Port</code>选择<code>SW</code>方式，<code>Clock</code>调整下载速度为1MHz。<br>然后确认退出即可。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这个时候就可以加载LED测试代码检查是否配置完好了。</p><p>配置过程中心思想就是，uVision对你的代码结构一无所知，对你的芯片需求一无所知。<br>你需要做的就是，在Group中告诉它你是如何组织代码的，告诉它代码放在哪里。<br>在Include Paths中告诉它你的头文件放在哪里。<br>在魔术棒菜单中，告诉它你的芯片是如何工作的。</p><p>仅此而已的工作。</p>]]></content>
    
    
    <categories>
      
      <category>单片机</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
      <tag>单片机</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>利用Hexo、GitPages建立自己的博客</title>
    <link href="/2021/05/22/%E5%88%A9%E7%94%A8Hexo%E3%80%81GitPages%E5%BB%BA%E7%AB%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/"/>
    <url>/2021/05/22/%E5%88%A9%E7%94%A8Hexo%E3%80%81GitPages%E5%BB%BA%E7%AB%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/</url>
    
    <content type="html"><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>Hexo是一款基于Node.js的静态博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在GitHub和Heroku上，是搭建博客的首选框架。</p><span id="more"></span><p>一般而言，建立自己的博客之后，我们会赋予它一个独特的域名。仅仅拥有<code>xxx.github.io</code>的域名，不足以满足大多数人的野心。</p><p>在这个不想学习的夜晚，我来整理一下我构建网站的过程，一来记录我的第一次前端（抄作业）项目，二来放松身心，三来给其他同学提供参考。</p><h2 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h2><ul><li>获得个人域名</li><li>GitHub创建个人仓库</li><li>安装Node.js，Hexo，git</li><li>推送网站</li><li>绑定域名</li><li>发布文章</li><li>寻找图床</li></ul><h2 id="行动"><a href="#行动" class="headerlink" title="行动"></a>行动</h2><h3 id="获得个人域名"><a href="#获得个人域名" class="headerlink" title="获得个人域名"></a>获得个人域名</h3><p>为了避免实名认证的费时费力，我选择了<a href="https://www.namesilo.com">NameSilo</a>网站，花了一美元获得了这个域名。事实上，<code>.xyz</code>域名相对价格很低，如果不是很在意的话，可以使用。</p><p>在选择域名时，有几个要点需要注意：</p><ul><li>填写Primary Address时要勾选<code>Keep my information private</code>,这样可以让保护隐私变为默认选项</li><li>除了邮箱，其他的没有必要填真实信息。手机填成真实的也无所谓。</li><li>购买域名时，注意选择<code>WHOIS Privacy</code>,让NameSilo替你成为注册人，防止真实信息暴露公网。</li><li>DNS解析时，可以填写五条解析规则。四条<code>A type</code>的规则指向GitPages的四个IPv4地址，参考<a href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain">GitPages 官方手册</a>；另一条规则<code>CNAME type</code>指向你的GitHub库，具体问题之后详述。</li></ul><h3 id="GitHub创建个人仓库"><a href="#GitHub创建个人仓库" class="headerlink" title="GitHub创建个人仓库"></a>GitHub创建个人仓库</h3><p>这一步相当简单。只需要在GitHub创建一个<code>用户名.github.io</code>的Repo。</p><p>顺带一提，这样做还可以顺便发现一个Special Repository，自己尝试（：</p><h3 id="安装Node-js-Hexo-git"><a href="#安装Node-js-Hexo-git" class="headerlink" title="安装Node.js, Hexo, git"></a>安装Node.js, Hexo, git</h3><p>安装是一件相当愉快的事情。<br>先安装Git，一路next即可。<br>再安装Node.js，也是一路快乐。<br>最后打开terminal，输入</p><div class="code-wrapper"><pre><code class="hljs">node -vnpm -v</code></pre></div><p>检查是否正确安装Node.js。之后输入</p><div class="code-wrapper"><pre><code class="hljs">npm install -g hexo-cli</code></pre></div><p>让它自动安装Hexo即可。</p><p>然后我们需要设置一下Git的ssh密钥，便于我们文章的发布。</p><p>打开安装好的Git Bash, 输入</p><div class="code-wrapper"><pre><code class="hljs">git config --global user.name &quot;你的GitHub用户名&quot;git config --global user.email &quot;你的GitHub注册邮箱&quot;ssh-keygen -t rsa -C &quot;你的GitHub注册邮箱&quot;</code></pre></div><p> 一路回车键，找到自己电脑上的User\你的Windows用户名\.ssh\id_rsa和id_rsa.pub两个文件。把后一个文件里的全部内容复制，粘贴到GitHub个人页面右上角下拉框-&gt;Settings-&gt;SSH and GPG keys-&gt; SSH Keys -&gt; New SSH keys这个界面中，添加即可。</p><p> 这里应该有图片的，我之后再传吧。</p><p> 回到Git Bash,输入</p><div class="code-wrapper"><pre><code class="hljs"> ssh git@github.com</code></pre></div><p>多输几次，不报错了就好了。（玄学X</p><h3 id="推送网站"><a href="#推送网站" class="headerlink" title="推送网站"></a>推送网站</h3><p>随便打开一个你想要放置博客的目录，打开terminal，定位到此处，输入</p><div class="code-wrapper"><pre><code class="hljs">hexo init</code></pre></div><p>hexo就会在该目录下创建博客的基本内容。网络不好就挂代理，我反正下了几遍才下好。</p><p>继续输入</p><div class="code-wrapper"><pre><code class="hljs">hexo new testhexo generatehexo server</code></pre></div><p>打开浏览器进入网址localhost:4000，即可看到你的博客——最原始的样子。</p><p>这是本地预览，怎么放到网上呢？GitPages就是一个好的部署地点！</p><p>在设置之前，需要解释一个概念，在blog根目录里的_config.yml文件称为<strong>站点配置文件</strong>，进入根目录里的themes文件夹，里面也有个_config.yml文件，这个称为<strong>主题配置文件</strong>。</p><p>打开前一个站点配置文件，找到deploy这个单词，填充如下内容：</p><div class="code-wrapper"><pre><code class="hljs">deploy:  type: git  repo: git@github.com/GitHub用户名/GitHub用户名.github.io.git  branch: main</code></pre></div><p>注意repo使用git@才能ssh登录，改成https的话，每次deploy都需要输入密码。<br>再注意branch 要使用main，因为GitHub整顿后，将新Repo的默认分支从<code>master</code> 改成了<code>main</code>。</p><p>回到项目根目录，打开terminal，输入</p><div class="code-wrapper"><pre><code class="hljs">npm install hexo-deployer-git --save</code></pre></div><p>和</p><div class="code-wrapper"><pre><code class="hljs">hexo cleanhexo ghexo d</code></pre></div><p>网络足够好的情况下，可以在网址<code>GitHub用户名.github.io</code>上看到你的博客了。</p><h3 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h3><p>打开你的GitHub，在博客Repo的Settings里面，找到左侧Pages，点进去，右边找到Custom domain，填入你先前注册的域名，再勾选下面的Enforce HTTPS，就搞定了。</p><p>这时候可以回到第一步，把 <code>GitHub用户名.github.io</code>填入先前DNS解析的步骤。Host name填入www, 这样也可以解析www.开头的你的域名。</p><p>我觉得需要图片，到时候再说。</p><p>假说你博客的根目录是/，现进入/source目录，理论上应该有一个<code>_posts</code>文件夹。在它的旁边创建名为<code>CNAME</code>的文件，输入<strong>不带www</strong>的你的域名。</p><p>这时候打开浏览器在地址栏输入你的个性化域名将会直接进入你自己搭建的网站。如果没有，就deploy几次（莽撞</p><p>不需要改动_config.yml里面的内容。</p><h3 id="发布文章"><a href="#发布文章" class="headerlink" title="发布文章"></a>发布文章</h3><p>在terminal里使用</p><div class="code-wrapper"><pre><code class="hljs">hexo new 文章名</code></pre></div><p>即可创建一篇文章，位于/source/_posts/目录下的一个.md文件。</p><p>用markdown语法写文章即可。</p><p>发布？<br>在terminal里使用</p><div class="code-wrapper"><pre><code class="hljs">hexo cleanhexo generatehexo deploy</code></pre></div><p>即可发布到你的GitHub Repo上，从而在你的域名上可见。</p><p>建议是先用<code>hexo server</code>在本地预览，给GitHub送去一点善意。</p><p>如果发现发布后主页没有变化，可以尝试重新<code>hexo clean</code>再deploy一次。熟悉这样的节奏就好。</p><h3 id="寻找图床"><a href="#寻找图床" class="headerlink" title="寻找图床"></a>寻找图床</h3><p>图床自己找。我用的是<a href="https://imgtu.com">路过图床</a>，虽然有广告，但是它免费（：</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>虽然本文较为简略，且全程没有图片配备。但是通过参考资料的补充，读者依然可以得到相应的知识来建立自己的博客。</p><!-- 这就是颓废大学生摸鱼的方式吗？！ --><!-- 更多资料自己寻找（： --><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://zhuanlan.zhihu.com/p/26625249">吴润-知乎</a></p><p><a href="http://wangwlj.com/2017/09/08/blog_setup/">wangwlj’s Blog</a></p><p><a href="https://hexo.io/zh-cn/docs/">Hexo 官方文档</a></p><p><a href="https://hexo.fluid-dev.com/docs/guide/">Fluid 配置文档</a></p>]]></content>
    
    
    <categories>
      
      <category>博客</category>
      
    </categories>
    
    
    <tags>
      
      <tag>博客</tag>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
